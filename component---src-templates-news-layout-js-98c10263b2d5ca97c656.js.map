{"version":3,"sources":["webpack:///./src/lib/utils/getWebpImage.js","webpack:///./src/templates/NewsLayout.js"],"names":["getWebpImage","url","quality","includes","NewsContainer","styled","Section","SocialShare","div","theme","device","mobileMediaMax","NewsContentWrapper","bgUrl","darkBgUrl","Title","h2","Subtitle","p","NewsInfo","NewsLayout","props","data","header","hero","cta","news","title","subtitle","image","content","canonicalUrl","authors","publishDate","news_bg","news_dark_bg","hubspot","latest","footer","pathBuild","pageContext","file","seoModuleConfig","internal","type","pageTitle","pageDescription","featuredImage","pagePath","pageType","contentConfig","htmlBody","displayTitle","hasAuthors","length","authorsName","reduce","acc","cur","push","name","contentfulModuleToComponent","className","ContentWrapper","iconConfig","width","height","showLeftArrow","join","Image","SocialButtonList"],"mappings":"yIAAe,SAASA,EAAaC,EAAKC,GACxC,YADsD,IAAdA,MAAU,IAC7CD,EACDA,EAAIE,SAAS,QACRF,EAECA,EAAV,MAAmBC,EAAnB,WAJiB,G,4EC0GnB,IAAME,EAAgBC,YAAOC,KAAV,gFAAGD,CAAH,wBAGbE,EAAcF,IAAOG,IAAV,8EAAGH,CAAH,wHAMM,qBAAGI,MAAkBC,OAAOC,kBAK7CC,EAAqBP,IAAOG,IAAV,qFAAGH,CAAH,sEACpB,gBAAGQ,EAAH,EAAGA,MAAOC,EAAV,EAAUA,UAAV,OACAD,GAASC,EAAT,2GAKI,MAEJ,gBAAGD,EAAH,EAAGA,MAAH,OACAA,EAAK,0BACyBA,EADzB,SAGD,MAEJ,gBAAGC,EAAH,EAAGA,UAAH,OACAA,EAAS,8DAGmBA,EAHnB,mBAML,MASFC,EAAQV,IAAOW,GAAV,wEAAGX,CAAH,uDAMLY,EAAWZ,IAAOa,EAAV,2EAAGb,CAAH,sDAaRc,EAAWd,IAAOG,IAAV,2EAAGH,CAAH,ocAmHCe,UAlRf,SAAoBC,GAAQ,IAAD,MAsBrBA,EApBFC,KACEC,EAHqB,EAGrBA,OACAC,EAJqB,EAIrBA,KACAC,EALqB,EAKrBA,IALqB,IAMrBC,KACEC,EAPmB,EAOnBA,MACAC,EARmB,EAQnBA,SACAC,EATmB,EASnBA,MACAC,EAVmB,EAUnBA,QACAC,EAXmB,EAWnBA,aACAC,EAZmB,EAYnBA,QACAC,EAbmB,EAanBA,YAEFC,EAfqB,EAerBA,QACAC,EAhBqB,EAgBrBA,aACAC,EAjBqB,EAiBrBA,QACAC,EAlBqB,EAkBrBA,OACAC,EAnBqB,EAmBrBA,OAEaC,EACblB,EADFmB,YAAeD,UAGX1B,EAAQb,EAAakC,SAAD,UAACA,EAASO,YAAV,aAAC,EAAexC,KACpCa,EAAYd,EAAamC,SAAD,UAACA,EAAcM,YAAf,aAAC,EAAoBxC,KAE7CyC,EAAkB,CACtBC,SAAU,CAAEC,KAAM,iBAClBC,UAAWlB,EACXmB,gBAAiBlB,EACjBmB,cAAelB,EACfmB,SAAUT,EACVR,aAAcA,EACdkB,SAAU,QAGNC,EAAgB,CACpBP,SAAU,CAAEC,KAAM,sBAClBO,SAAUrB,EACVsB,cAAc,GAGVC,EAAarB,GAAWA,EAAQsB,OAAS,EACzCC,EACJF,GACArB,EAAQwB,QAAO,SAACC,EAAKC,GAEnB,OADAD,EAAIE,KAAKD,EAAIE,MACNH,IACN,IAEL,OACE,wBAAC,IAAWpC,EACTwC,YAA4BnB,GAC5BmB,YAA4BtC,GAC7B,+BAAKuC,UAAU,qBACZD,YAA4BrC,GAC7B,wBAACpB,EAAD,KACE,wBAAC2D,EAAA,EAAD,CAAgBD,UAAU,gBACvBD,YAA4B,OAAD,UACvBpC,EADuB,CAE1BuC,WAAY,CAAEtC,MAAM,EAAMuC,MAAO,OAAQC,OAAQ,QACjDC,eAAe,KAEjB,wBAACpD,EAAD,KAAQY,GACR,wBAACV,EAAD,KAAWW,GACX,wBAACT,EAAD,KACE,2CACA,gCAAM2C,UAAU,UACbT,EAAaE,EAAYa,KAAK,MAAQ,YAEzC,gCAAMN,UAAU,cAChB,gCAAMA,UAAU,eAAe7B,IAEjC,wBAACoC,EAAA,EAAD,CAAOxC,MAAOA,IACd,wBAACtB,EAAD,KACE,wBAAC+D,EAAA,EAAD,QAGJ,wBAAC1D,EAAD,CAAoBC,MAAOA,EAAOC,UAAWA,GAC1C+C,YAA4BX,GAC5BW,YAA4BzB,IAE9ByB,YAA4B,OAAD,UACvBxB,EADuB,CAE1B2B,WAAY,CAAEtC,MAAM,EAAMuC,MAAO,OAAQC,OAAQ,QACjDC,eAAe,KAEhBN,YAA4BvB","file":"component---src-templates-news-layout-js-98c10263b2d5ca97c656.js","sourcesContent":["export default function getWebpImage(url, quality = 80) {\n  if (!url) return ''\n  if (url.includes('.svg')) {\n    return url\n  }\n  return `${url}?q=${quality}&fm=webp`\n}\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { graphql } from 'gatsby'\nimport styled from 'styled-components'\nimport getWebpImage from '../lib/utils/getWebpImage'\nimport { contentfulModuleToComponent } from '../lib/utils/moduleToComponent'\nimport Layout from './PageLayout'\nimport { Section } from '../components/StyledGeneral'\nimport ContentWrapper from '../components/ContentWrapper'\nimport Image from '../components/Image'\nimport SocialButtonList from '../components/SocialButtonList'\n\nfunction NewsLayout(props) {\n  const {\n    data: {\n      header,\n      hero,\n      cta,\n      news: {\n        title,\n        subtitle,\n        image,\n        content,\n        canonicalUrl,\n        authors,\n        publishDate,\n      },\n      news_bg,\n      news_dark_bg,\n      hubspot,\n      latest,\n      footer,\n    },\n    pageContext: { pathBuild },\n  } = props\n\n  const bgUrl = getWebpImage(news_bg?.file?.url)\n  const darkBgUrl = getWebpImage(news_dark_bg?.file?.url)\n\n  const seoModuleConfig = {\n    internal: { type: 'ContentfulSeo' },\n    pageTitle: title,\n    pageDescription: subtitle,\n    featuredImage: image,\n    pagePath: pathBuild,\n    canonicalUrl: canonicalUrl,\n    pageType: 'news',\n  }\n\n  const contentConfig = {\n    internal: { type: 'ContentfulRichText' },\n    htmlBody: content,\n    displayTitle: false,\n  }\n\n  const hasAuthors = authors && authors.length > 0\n  const authorsName =\n    hasAuthors &&\n    authors.reduce((acc, cur) => {\n      acc.push(cur.name)\n      return acc\n    }, [])\n\n  return (\n    <Layout {...props}>\n      {contentfulModuleToComponent(seoModuleConfig)}\n      {contentfulModuleToComponent(header)}\n      <div className=\"news-page-content\">\n        {contentfulModuleToComponent(hero)}\n        <NewsContainer>\n          <ContentWrapper className=\"news-content\">\n            {contentfulModuleToComponent({\n              ...cta,\n              iconConfig: { news: true, width: '24px', height: '24px' },\n              showLeftArrow: true,\n            })}\n            <Title>{title}</Title>\n            <Subtitle>{subtitle}</Subtitle>\n            <NewsInfo>\n              <span>by&nbsp;</span>\n              <span className=\"author\">\n                {hasAuthors ? authorsName.join(', ') : 'MetaMask'}\n              </span>\n              <span className=\"separator\" />\n              <span className=\"publishDate\">{publishDate}</span>\n            </NewsInfo>\n            <Image image={image} />\n            <SocialShare>\n              <SocialButtonList />\n            </SocialShare>\n          </ContentWrapper>\n          <NewsContentWrapper bgUrl={bgUrl} darkBgUrl={darkBgUrl}>\n            {contentfulModuleToComponent(contentConfig)}\n            {contentfulModuleToComponent(hubspot)}\n          </NewsContentWrapper>\n          {contentfulModuleToComponent({\n            ...latest,\n            iconConfig: { news: true, width: '24px', height: '24px' },\n            showLeftArrow: true,\n          })}\n          {contentfulModuleToComponent(footer)}\n        </NewsContainer>\n      </div>\n    </Layout>\n  )\n}\n\nconst NewsContainer = styled(Section)`\n  position: relative;\n`\nconst SocialShare = styled.div`\n  margin: 32px 0;\n  display: flex;\n  align-items: center;\n  justify-content: right;\n\n  @media (max-width: ${({ theme }) => theme.device.mobileMediaMax}) {\n    flex-direction: column;\n  }\n`\n\nconst NewsContentWrapper = styled.div`\n  ${({ bgUrl, darkBgUrl }) =>\n    bgUrl || darkBgUrl\n      ? ` background-size: contain;\n      background-repeat: no-repeat;\n      background-position: bottom;\n   `\n      : ''}\n\n  ${({ bgUrl }) =>\n    bgUrl\n      ? ` background-image: url(${bgUrl});\n  `\n      : ''}\n  \n  ${({ darkBgUrl }) =>\n    darkBgUrl\n      ? ` \n      body.dark-mode & {\n        background-image: url(${darkBgUrl});\n      }\n   `\n      : ''}\n\n  & > * {\n    max-width: 784px;\n    margin: 0 auto;\n    padding: 0 20px;\n  }\n`\n\nconst Title = styled.h2`\n  font-size: 40px;\n  line-height: 40px;\n  padding-top: 64px;\n`\n\nconst Subtitle = styled.p`\n  font-size: 16px;\n  line-height: 24px;\n  padding-top: 8px;\n`\n\nconst categoryProps = PropTypes.shape({\n  name: PropTypes.string.isRequired,\n  parent: PropTypes.shape({\n    name: PropTypes.string.isRequired,\n  }),\n})\n\nconst NewsInfo = styled.div`\n  position: relative;\n  display: flex;\n  flex-wrap: wrap;\n  align-items: center;\n  font-size: 1rem;\n  margin-top: 2rem;\n  margin-bottom: 3rem;\n  padding-top: 0.75rem;\n\n  .separator {\n    background-color: #333;\n    display: inline-flex;\n    height: 1px;\n    margin: 0 0.5rem;\n    width: 0.5rem;\n    body.dark-mode & {\n      background-color: #fff;\n    }\n  }\n  .author,\n  .publishDate {\n    font-weight: 700;\n  }\n\n  &::before {\n    background-color: #333;\n    content: '';\n    height: 3px;\n    left: 0;\n    position: absolute;\n    top: 0;\n    width: 3.5rem;\n\n    body.dark-mode & {\n      background-color: #fff;\n    }\n  }\n`\n\nNewsLayout.propTypes = {\n  data: PropTypes.shape({\n    news: PropTypes.shape({\n      isPrivate: PropTypes.bool,\n      content: PropTypes.object,\n      image: PropTypes.object,\n      title: PropTypes.string.isRequired,\n      subtitle: PropTypes.string.isRequired,\n      publishDate: PropTypes.string,\n      categories: PropTypes.arrayOf(categoryProps),\n      author: PropTypes.arrayOf(PropTypes.shape(PropTypes.string.isRequired)),\n    }),\n  }).isRequired,\n  pageContext: PropTypes.shape({\n    news_content_id: PropTypes.string.isRequired,\n    pathBuild: PropTypes.string,\n  }).isRequired,\n}\n\nexport const NewsLayoutQuery = graphql`\n  query($news_content_id: String!) {\n    header: contentfulLayoutHeader(\n      contentful_id: { eq: \"6I0knvqLf0DS5PB72DqUlM\" }\n    ) {\n      ...ContentfulLayoutHeaderFields\n    }\n\n    hero: contentfulLayoutHero(\n      contentful_id: { eq: \"4ZjPczvQn6fYgigGRFSQPf\" }\n    ) {\n      ...ContentfulLayoutHeroFields\n    }\n\n    cta: contentfulCta(contentful_id: { eq: \"6iOGB8Fiab9ilS0jfZ8N5I\" }) {\n      ...ContentfulCtaFields\n    }\n\n    news: contentfulNews(contentful_id: { eq: $news_content_id }) {\n      ...ContentfulNewsFields\n    }\n\n    news_bg: contentfulAsset(contentful_id: { eq: \"3hGSTCAVrdhSMmLJHSHOWT\" }) {\n      file {\n        url\n      }\n    }\n\n    news_dark_bg: contentfulAsset(\n      contentful_id: { eq: \"2StKLJf0XE38EyT9GlzQuO\" }\n    ) {\n      file {\n        url\n      }\n    }\n\n    hubspot: contentfulHubSpotForm(\n      contentful_id: { eq: \"5VZVKtbcRMzaaP77nsz3Fs\" }\n    ) {\n      ...ContentfulHubSpotFormFields\n    }\n\n    latest: contentfulLayoutModuleContainer(\n      contentful_id: { eq: \"nO1tqQRjoUDUJfdg2B651\" }\n    ) {\n      ...ContentfulLayoutModuleContainerFields\n    }\n\n    footer: contentfulLayoutFooter(\n      contentful_id: { eq: \"75bFgEllkMxpVsY8wWlroX\" }\n    ) {\n      ...ContentfulLayoutFooterFields\n    }\n  }\n`\n\nexport default NewsLayout\n"],"sourceRoot":""}