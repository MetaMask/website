{"componentChunkName":"component---src-templates-news-layout-js","path":"/news/developers/smart-account-session-snap-gaming-dapp-auto-approvals/","result":{"data":{"header":{"contentful_id":"6I0knvqLf0DS5PB72DqUlM","node_locale":"en-US","internal":{"type":"ContentfulLayoutHeader"},"logo":{"contentful_id":"6fkPzzTMo3IoMKGMshuSVD","node_locale":"en-US","internal":{"type":"ContentfulLogo"},"title":"MetaMask Logo","logo":{"title":"mm-logo","description":"","file":{"url":"//images.ctfassets.net/9sy2a0egs6zh/4zJfzJbG3kTDSk5Wo4RJI1/1b363263141cf629b28155e2625b56c9/mm-logo.svg"},"gatsbyImageData":null},"logoDarkMode":{"title":"mm-logo-white","description":"","file":{"url":"//images.ctfassets.net/9sy2a0egs6zh/2qy1wS5MmZOXkXn9yFlGJp/f3797a512c283e6f71450abd408b7452/mm-logo-white.svg"},"gatsbyImageData":null},"link":"/","newTab":false,"displayTitle":false,"widthLogo":null,"backgroundColor":null,"customClass":null},"logoMobile":null,"menuItems":[{"columns":1,"title":"Features","displayTitle":true,"modules":[{"node_locale":"en-US","contentful_id":"3Ngv0xEpQwwiVjfu3MVui9","fontSize":null,"ctaLink":"https://portfolio.metamask.io/","displayText":"MetaMask Portfolio","displayTextTreatment":null,"newTab":true,"buttonDisplay":false,"buttonGradient":false,"buttonSecondary":false,"hideButtonIcon":null,"eventLabel":"Nav Bar Button","eventCategory":"MetaMask Portfolio ","socialLink":null,"showCaretRight":null,"buttonCaretDown":null,"launchDarklyFlag":null,"customClassName":null,"internal":{"type":"ContentfulCta"},"hubSpotForm":null,"embedHTML":null,"downloadBrowsers":null,"mobileCta":null,"alternativeCta":null},{"node_locale":"en-US","contentful_id":"272HODLnCd83z9Is3VXfCV","fontSize":null,"ctaLink":"/swaps/","displayText":"Swaps","displayTextTreatment":null,"newTab":false,"buttonDisplay":false,"buttonGradient":null,"buttonSecondary":null,"hideButtonIcon":null,"eventLabel":null,"eventCategory":null,"socialLink":null,"showCaretRight":null,"buttonCaretDown":null,"launchDarklyFlag":null,"customClassName":null,"internal":{"type":"ContentfulCta"},"hubSpotForm":null,"embedHTML":null,"downloadBrowsers":null,"mobileCta":null,"alternativeCta":null},{"node_locale":"en-US","contentful_id":"3GGJuQss10B4ejSi1vzHxk","fontSize":null,"ctaLink":"/buy-crypto/","displayText":"Buy Crypto","displayTextTreatment":null,"newTab":false,"buttonDisplay":false,"buttonGradient":false,"buttonSecondary":false,"hideButtonIcon":null,"eventLabel":null,"eventCategory":null,"socialLink":null,"showCaretRight":null,"buttonCaretDown":null,"launchDarklyFlag":null,"customClassName":null,"internal":{"type":"ContentfulCta"},"hubSpotForm":null,"embedHTML":null,"downloadBrowsers":null,"mobileCta":null,"alternativeCta":null},{"node_locale":"en-US","contentful_id":"4OJuQIyiz6RKXiEZ2aMYX5","fontSize":null,"ctaLink":"/sell-crypto/","displayText":"Sell Crypto","displayTextTreatment":null,"newTab":false,"buttonDisplay":false,"buttonGradient":false,"buttonSecondary":false,"hideButtonIcon":null,"eventLabel":null,"eventCategory":null,"socialLink":null,"showCaretRight":null,"buttonCaretDown":null,"launchDarklyFlag":"sell-crypto","customClassName":null,"internal":{"type":"ContentfulCta"},"hubSpotForm":null,"embedHTML":null,"downloadBrowsers":null,"mobileCta":null,"alternativeCta":null},{"node_locale":"en-US","contentful_id":"6j2UlI3YimoI5gCk4jI1Ob","fontSize":null,"ctaLink":"https://portfolio.metamask.io/stake?tab=liquid","displayText":"Stake and Earn","displayTextTreatment":null,"newTab":true,"buttonDisplay":false,"buttonGradient":false,"buttonSecondary":false,"hideButtonIcon":null,"eventLabel":null,"eventCategory":null,"socialLink":null,"showCaretRight":false,"buttonCaretDown":false,"launchDarklyFlag":"earn","customClassName":null,"internal":{"type":"ContentfulCta"},"hubSpotForm":null,"embedHTML":null,"downloadBrowsers":null,"mobileCta":null,"alternativeCta":null},{"node_locale":"en-US","contentful_id":"73Te5lYt1GgouJN1uatwfu","fontSize":null,"ctaLink":"https://portfolio.metamask.io/bridge","displayText":"Bridge Tokens","displayTextTreatment":null,"newTab":true,"buttonDisplay":false,"buttonGradient":false,"buttonSecondary":false,"hideButtonIcon":null,"eventLabel":null,"eventCategory":null,"socialLink":null,"showCaretRight":false,"buttonCaretDown":false,"launchDarklyFlag":"bridge","customClassName":null,"internal":{"type":"ContentfulCta"},"hubSpotForm":null,"embedHTML":null,"downloadBrowsers":null,"mobileCta":null,"alternativeCta":null},{"node_locale":"en-US","contentful_id":"1NfSHcPaEcXx4uyhEbGdIN","fontSize":null,"ctaLink":"https://portfolio.metamask.io/card","displayText":"MetaMask Card","displayTextTreatment":null,"newTab":true,"buttonDisplay":false,"buttonGradient":false,"buttonSecondary":false,"hideButtonIcon":null,"eventLabel":"Nav Bar Button","eventCategory":"MetaMask Portfolio ","socialLink":null,"showCaretRight":false,"buttonCaretDown":false,"launchDarklyFlag":"metamask-card","customClassName":null,"internal":{"type":"ContentfulCta"},"hubSpotForm":null,"embedHTML":null,"downloadBrowsers":null,"mobileCta":null,"alternativeCta":null},{"node_locale":"en-US","contentful_id":"5n6LAatVBeM1vw6ok6bqcR","fontSize":null,"ctaLink":"/snaps/","displayText":"MetaMask Snaps","displayTextTreatment":null,"newTab":false,"buttonDisplay":false,"buttonGradient":false,"buttonSecondary":false,"hideButtonIcon":null,"eventLabel":null,"eventCategory":null,"socialLink":null,"showCaretRight":null,"buttonCaretDown":null,"launchDarklyFlag":null,"customClassName":null,"internal":{"type":"ContentfulCta"},"hubSpotForm":null,"embedHTML":null,"downloadBrowsers":null,"mobileCta":null,"alternativeCta":null}]},{"columns":1,"title":"Build","displayTitle":true,"modules":[{"node_locale":"en-US","contentful_id":"1JmDHLFU2Y45o1QXsQDjC1","fontSize":null,"ctaLink":"https://docs.metamask.io/","displayText":"Documentation","displayTextTreatment":null,"newTab":true,"buttonDisplay":null,"buttonGradient":null,"buttonSecondary":null,"hideButtonIcon":null,"eventLabel":null,"eventCategory":null,"socialLink":null,"showCaretRight":false,"buttonCaretDown":null,"launchDarklyFlag":null,"customClassName":null,"internal":{"type":"ContentfulCta"},"hubSpotForm":null,"embedHTML":null,"downloadBrowsers":null,"mobileCta":null,"alternativeCta":null},{"node_locale":"en-US","contentful_id":"5gPptdmrIjeGdYowLtrCHo","fontSize":null,"ctaLink":"/developer/","displayText":"Developers","displayTextTreatment":null,"newTab":false,"buttonDisplay":false,"buttonGradient":false,"buttonSecondary":false,"hideButtonIcon":null,"eventLabel":null,"eventCategory":null,"socialLink":null,"showCaretRight":false,"buttonCaretDown":null,"launchDarklyFlag":null,"customClassName":null,"internal":{"type":"ContentfulCta"},"hubSpotForm":null,"embedHTML":null,"downloadBrowsers":null,"mobileCta":null,"alternativeCta":null},{"node_locale":"en-US","contentful_id":"60cjqarld8mVDWHs8qZ4q1","fontSize":null,"ctaLink":"/institutions/","displayText":"Institutions","displayTextTreatment":null,"newTab":false,"buttonDisplay":false,"buttonGradient":false,"buttonSecondary":null,"hideButtonIcon":null,"eventLabel":null,"eventCategory":null,"socialLink":null,"showCaretRight":false,"buttonCaretDown":false,"launchDarklyFlag":"institutions","customClassName":null,"internal":{"type":"ContentfulCta"},"hubSpotForm":null,"embedHTML":null,"downloadBrowsers":null,"mobileCta":null,"alternativeCta":null},{"node_locale":"en-US","contentful_id":"39eW2psItqGMrBVsMkLyDz","fontSize":null,"ctaLink":"/sdk/","displayText":"SDK","displayTextTreatment":null,"newTab":false,"buttonDisplay":false,"buttonGradient":null,"buttonSecondary":null,"hideButtonIcon":null,"eventLabel":null,"eventCategory":null,"socialLink":null,"showCaretRight":null,"buttonCaretDown":null,"launchDarklyFlag":null,"customClassName":null,"internal":{"type":"ContentfulCta"},"hubSpotForm":null,"embedHTML":null,"downloadBrowsers":null,"mobileCta":null,"alternativeCta":null}]},{"columns":1,"title":"Resources","displayTitle":true,"modules":[{"node_locale":"en-US","contentful_id":"6NMiwFe3tTn9NV1K9UGlcZ","fontSize":null,"ctaLink":"/news/","displayText":"Blog","displayTextTreatment":null,"newTab":false,"buttonDisplay":false,"buttonGradient":null,"buttonSecondary":null,"hideButtonIcon":null,"eventLabel":null,"eventCategory":null,"socialLink":null,"showCaretRight":null,"buttonCaretDown":null,"launchDarklyFlag":null,"customClassName":null,"internal":{"type":"ContentfulCta"},"hubSpotForm":null,"embedHTML":null,"downloadBrowsers":null,"mobileCta":null,"alternativeCta":null},{"node_locale":"en-US","contentful_id":"3eavIRbBzcKt3XA1CZRrON","fontSize":null,"ctaLink":"https://support.metamask.io","displayText":"Support","displayTextTreatment":null,"newTab":true,"buttonDisplay":false,"buttonGradient":null,"buttonSecondary":null,"hideButtonIcon":null,"eventLabel":null,"eventCategory":null,"socialLink":null,"showCaretRight":null,"buttonCaretDown":null,"launchDarklyFlag":null,"customClassName":null,"internal":{"type":"ContentfulCta"},"hubSpotForm":null,"embedHTML":null,"downloadBrowsers":null,"mobileCta":null,"alternativeCta":null},{"node_locale":"en-US","contentful_id":"qGq9T5d9vFmRNSvrQbNOk","fontSize":null,"ctaLink":"/faqs/","displayText":"FAQs","displayTextTreatment":null,"newTab":false,"buttonDisplay":false,"buttonGradient":null,"buttonSecondary":null,"hideButtonIcon":null,"eventLabel":null,"eventCategory":null,"socialLink":null,"showCaretRight":null,"buttonCaretDown":null,"launchDarklyFlag":null,"customClassName":null,"internal":{"type":"ContentfulCta"},"hubSpotForm":null,"embedHTML":null,"downloadBrowsers":null,"mobileCta":null,"alternativeCta":null},{"node_locale":"en-US","contentful_id":"hFoMVr6dpc0M4Q8OzIvoa","fontSize":null,"ctaLink":"https://community.metamask.io/","displayText":"Community","displayTextTreatment":null,"newTab":true,"buttonDisplay":false,"buttonGradient":false,"buttonSecondary":null,"hideButtonIcon":null,"eventLabel":null,"eventCategory":null,"socialLink":null,"showCaretRight":null,"buttonCaretDown":null,"launchDarklyFlag":null,"customClassName":null,"internal":{"type":"ContentfulCta"},"hubSpotForm":null,"embedHTML":null,"downloadBrowsers":null,"mobileCta":null,"alternativeCta":null}]},{"node_locale":"en-US","contentful_id":"1wFIQKdGvyapyZJfmISWHc","fontSize":null,"ctaLink":"https://learn.metamask.io/overview","displayText":"Learn","displayTextTreatment":null,"newTab":false,"buttonDisplay":false,"buttonGradient":false,"buttonSecondary":false,"hideButtonIcon":null,"eventLabel":"Nav Bar Button","eventCategory":"MetaMask Learn ","socialLink":null,"showCaretRight":null,"buttonCaretDown":null,"launchDarklyFlag":null,"customClassName":null,"internal":{"type":"ContentfulCta"},"hubSpotForm":null,"embedHTML":null,"downloadBrowsers":null,"mobileCta":null,"alternativeCta":null}],"downloadButton":{"node_locale":"en-US","contentful_id":"3v9J6feUIljXuMBM0EYQNh","fontSize":null,"ctaLink":"/download/","displayText":"Download","displayTextTreatment":"Get MetaMask","newTab":false,"buttonDisplay":true,"buttonGradient":false,"buttonSecondary":null,"hideButtonIcon":null,"eventLabel":"Nav Bar Button","eventCategory":"Download Intent","socialLink":null,"showCaretRight":null,"buttonCaretDown":null,"launchDarklyFlag":"mm-download-cta-header","customClassName":"ld-download-link","internal":{"type":"ContentfulCta"},"hubSpotForm":null,"embedHTML":null,"downloadBrowsers":null,"mobileCta":null,"alternativeCta":{"node_locale":"en-US","contentful_id":"4bGNlgZAx6ugxPYFht8Ble","fontSize":null,"ctaLink":"https://portfolio.metamask.io/","displayText":"View MetaMask Web","displayTextTreatment":"View Your Assets","newTab":true,"buttonDisplay":true,"buttonGradient":false,"buttonSecondary":false,"hideButtonIcon":null,"eventLabel":null,"eventCategory":null,"socialLink":null,"showCaretRight":false,"buttonCaretDown":null,"launchDarklyFlag":"mm-portfolio-cta-header","customClassName":"ld-portfolio-link","internal":{"type":"ContentfulCta"},"hubSpotForm":null,"embedHTML":null,"downloadBrowsers":null}},"popupAnnouncement":{"contentful_id":"5yOpjVXgyG3eGYvZQkmv4f","node_locale":"en-US","internal":{"type":"ContentfulPopupAnnouncement"},"title":null,"ctaText":"Discover MetaMask Portfolio today. Track and manage your web3 assets in one place!","ctaLink":"https://portfolio.metamask.io","backgroundColor":"#037DD5"},"popupAnnouncementTreatment":{"contentful_id":"5cklTGW1qCkOwqxdVYhhFc","node_locale":"en-US","internal":{"type":"ContentfulPopupAnnouncement"},"title":null,"ctaText":"Watch your crypto grow with Pooled Staking. Stake your crypto and earn rewards for securing the Ethereum network.","ctaLink":"https://portfolio.metamask.io/stake?tab=pooled","backgroundColor":"#037DD5"},"isSticky":true,"launchDarklyFlag":"use-treatment-for-non-uk-and-us-announcement"},"cta":{"node_locale":"en-US","contentful_id":"6iOGB8Fiab9ilS0jfZ8N5I","fontSize":null,"ctaLink":"/news/","displayText":"All posts","displayTextTreatment":null,"newTab":false,"buttonDisplay":false,"buttonGradient":false,"buttonSecondary":false,"hideButtonIcon":null,"eventLabel":null,"eventCategory":null,"socialLink":null,"showCaretRight":null,"buttonCaretDown":null,"launchDarklyFlag":null,"customClassName":null,"internal":{"type":"ContentfulCta"},"hubSpotForm":null,"embedHTML":null,"downloadBrowsers":null,"mobileCta":null,"alternativeCta":null},"news":{"contentful_id":"4fMtlb79TIoodFWb7EwhCb","node_locale":"en-US","internal":{"type":"ContentfulNews"},"title":"Smart Account Session Snap: Gaming Dapp Auto Approvals ","slug":"smart-account-session-snap-gaming-dapp-auto-approvals","subtitle":"An ETHBogota Hackathon Snap ","image":{"title":"feature","description":"","file":{"url":"//images.ctfassets.net/9sy2a0egs6zh/4Ht6oBeokYD1lHICy9c6sx/cd20f2354ff52ffd2dbf9729329bb422/feature.png"},"gatsbyImageData":{"images":{"sources":[{"srcSet":"https://images.ctfassets.net/9sy2a0egs6zh/4Ht6oBeokYD1lHICy9c6sx/cd20f2354ff52ffd2dbf9729329bb422/feature.png?w=270&h=180&q=80&fm=webp 270w,\nhttps://images.ctfassets.net/9sy2a0egs6zh/4Ht6oBeokYD1lHICy9c6sx/cd20f2354ff52ffd2dbf9729329bb422/feature.png?w=540&h=360&q=80&fm=webp 540w,\nhttps://images.ctfassets.net/9sy2a0egs6zh/4Ht6oBeokYD1lHICy9c6sx/cd20f2354ff52ffd2dbf9729329bb422/feature.png?w=1080&h=720&q=80&fm=webp 1080w","sizes":"(min-width: 1080px) 1080px, 100vw","type":"image/webp"}],"fallback":{"src":"https://images.ctfassets.net/9sy2a0egs6zh/4Ht6oBeokYD1lHICy9c6sx/cd20f2354ff52ffd2dbf9729329bb422/feature.png?w=1080&h=720&q=80&fm=png","srcSet":"https://images.ctfassets.net/9sy2a0egs6zh/4Ht6oBeokYD1lHICy9c6sx/cd20f2354ff52ffd2dbf9729329bb422/feature.png?w=270&h=180&q=80&fm=png 270w,\nhttps://images.ctfassets.net/9sy2a0egs6zh/4Ht6oBeokYD1lHICy9c6sx/cd20f2354ff52ffd2dbf9729329bb422/feature.png?w=540&h=360&q=80&fm=png 540w,\nhttps://images.ctfassets.net/9sy2a0egs6zh/4Ht6oBeokYD1lHICy9c6sx/cd20f2354ff52ffd2dbf9729329bb422/feature.png?w=1080&h=720&q=80&fm=png 1080w","sizes":"(min-width: 1080px) 1080px, 100vw"}},"layout":"constrained","width":1920,"height":1280}},"publishDate":"November 14, 2022","authors":null,"content":{"childMarkdownRemark":{"html":"<p><a href=\"https://metamask.io/snaps/\">MetaMask Snaps</a> is the roadmap to making MetaMask the most extensible wallet in the world. As a developer, you can bring your features and APIs to MetaMask in totally new ways. Web3 developers are the core of this growth and this series aims to showcase the novel MetaMask Snaps being built today.</p>\n<h3>Smart Account Sessions</h3>\n<iframe width=\"560\" height=\"315\" src=\"https://www.youtube.com/embed/NBQEtLjN84E\" title=\"YouTube video player\" frameborder=\"0\" allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen></iframe>\n<p><strong>Snap Repo</strong>: <a href=\"https://github.com/livingrockrises/snap-auto-approvals\">https://github.com/livingrockrises/snap-auto-approvals</a></p>\n<p><strong>Why did you build it?</strong></p>\n<p>To create a seamless user experience for gaming dapps providing them a way for auto approvals in secure manner.</p>\n<p><strong>Can you walk us through the technical implementation?</strong></p>\n<p><strong>The App</strong></p>\n<p>Our Snap is composed from two parts. First is a website that users interact with. The second one is the actual Snap. Those two elements work in a way similar to client-server architecture, where the Snap is a server and the website is the client.</p>\n<p>Website has following user-flow:</p>\n<ol>\n<li>Connect your EOA and install the Smart account session Snap.</li>\n<li>Enable Smart Account on top of MetaMask address. MetaMask EOA will be controller of this Smart account.</li>\n<li>Enable Session Module on your Smart Account. Modules enable additional access-control logic for your Smart Safe account. Essentially, every Smart account is controlled by two means. By the MetaMask account owner using their signer keys and by optional modules that have their own custom access logic.</li>\n<li>Create a session.</li>\n<li>This will create a temporary session keys on your smart account that are authorized to transaction on your wallet via module. Session can have parameters like startTime, endTime and Permissions for custom actions on Dapp contracts.</li>\n<li>Send auto approved transactions using above session key without MetaMask pop-up for gas or signatures.</li>\n</ol>\n<p><strong>The Metamask API</strong></p>\n<p>MetaMask provides <a href=\"https://docs.metamask.io/guide/snaps-rpc-api.html#restricted-methods\">API calls</a>, which can be used by MetaMask Snaps if permitted by user.</p>\n<p>In this case we have levarged below:</p>\n<p><code>snap_manageState</code> - which allow as two store encrypted data inside MetaMask. For instance we use it to store created session key pair.</p>\n<pre><code class=\"language-javascript\">export type SessionKeyStorage = {\n  owner: string;\n  sessionKey: string;\n  pk: string;\n};\n\nexport const storeSessionInfo = async (data: SessionKeyStorage) => {\n  await wallet.request({\n    method: 'snap_manageState',\n    params: ['update', data],\n  });\n};\n\nexport const clearSessionInfo = async () => {\n  const result = await wallet.request({\n    method: 'snap_manageState',\n    params: ['clear'],\n  });\n  return result;\n};\n\nexport const getSessionInfo = async () => {\n  const result = await wallet.request({\n    method: 'snap_manageState',\n    params: ['get'],\n  });\n  return result;\n};\n</code></pre>\n<p><code>snap_confirm</code> - which allow as two store encrypted data inside MetaMask. For instance we use it to store created accounts.</p>\n<pre><code class=\"language-javascript\">\nexport const promptUser = async (\n  prompt: string,\n  description: string,\n  content: string,\n): Promise&#x3C;boolean> => {\n  const response: any = await wallet.request({\n    method: 'snap_confirm',\n    params: [\n      {\n        prompt,\n        description,\n        textAreaContent: content,\n      },\n    ],\n  });\n  console.log('Prompt user response', response);\n  if (response) {\n    return response;\n  }\n  return false;\n};\n\npromptUser(getMessage(origin),\n            'Do you want to use Smart Account',\n            `Your Smart Account Address is ${_smartAccount.address}`,\n          ).then((approval) => {\n            if (approval) {\n              console.log('Sending smart acccount response ', _smartAccount);\n              resolve({\n                address: _smartAccount.address,\n                owner: _smartAccount.owner,\n              });\n            } else {\n              reject(new Error('EOA user'));\n            }\n          });\n</code></pre>\n<p>Snap will handle incoming JSON-RPC requests, sent through <code>wallet_invokeSnap</code> from the site.</p>\n<p>For above app journey, we have created custom request methods like connect, enable_session_module create_session and interact. One example is below and the code is <a href=\"https://github.com/livingrockrises/snap-auto-approvals\">here</a>.</p>\n<pre><code class=\"language-javascript\">\nexport const useSmartAccount = async () => {\n  console.log('invoke Snap...');\n  const smartAccountResponse: any = await window.ethereum.request({\n    method: 'wallet_invokeSnap',\n    params: [\n      defaultSnapOrigin,\n      {\n        method: 'connect',\n        params: [],\n      },\n    ],\n  });\n  return smartAccountResponse;\n};\n\n</code></pre>\n<p><strong>Session Key Module</strong></p>\n<p>We wrote a Gnosis safe style module to extend functionality of smart contract wallet using access control with session keys.</p>\n<p><a href=\"https://github.com/bcnmy/scw-contracts/tree/session-module/contracts\">Code can be found here</a> for module and wallet contracts.</p>\n<pre><code>struct Session {\n        address smartAccount;\n        address sessionKey;\n        uint256 startTimestamp;\n        uint256 nonce;\n        uint256 endTimestamp;\n        bool enable;\n        PermissionStorage permission;\n    }\n\nstruct PermissionStorage {\n        address[] whitelistDestinations;\n        mapping(address => bool) whitelistDestinationMap;\n        mapping(address => bytes4[]) whitelistMethods;\n        mapping(address => mapping(bytes4 => bool)) whitelistMethodsMap;\n        mapping(address => TokenApproval) tokenApprovals;\n    }\n</code></pre>\n<p>When session is created by invoking snap and in turn invoking smart account, the below method is called on Session key module from Smart Account via a relayer.</p>\n<pre><code>function createSession(\n        address sessionKey,\n        PermissionParam[] calldata permissions,\n        SessionParam calldata sessionParam\n    ) external {\n        require(\n            !sessionMap[sessionKey].enable,\n            \"Session for key is already enabled\"\n        );\n        Session storage _session = sessionMap[sessionKey];\n        ...\n</code></pre>\n<p>txHash: <a href=\"https://goerli.etherscan.io/tx/0x8b45f4cb0a7527bb7c44f6923eb9bb391faa656e212829ce0fd9c733ca71352b\">https://goerli.etherscan.io/tx/0x8b45f4cb0a7527bb7c44f6923eb9bb391faa656e212829ce0fd9c733ca71352b</a></p>\n<p>Once session has been created, a relayer can invoke transaction on session key module with valid session key and signature.</p>\n<pre><code class=\"language-javascript\">\nfunction executeTransaction(\n        address _sessionKey,\n        address payable _to,\n        uint256 _value,\n        bytes calldata _data,\n        bytes calldata signature\n    ) external returns (bool success) {\n        Session storage session = sessionMap[_sessionKey];\n        require(session.enable, \"Session is not active\");\n        require(\n            session.startTimestamp &#x3C;= block.timestamp,\n            \"Session has not yet started\"\n        );\n        require(session.endTimestamp >= block.timestamp, \"Session has expired\");\n        ...\n</code></pre>\n<p>txHash: <a href=\"https://goerli.etherscan.io/tx/0xf6d40bf9c74cff266f8bc26dabcf7a44ca1c0e85387f297f43fa5cb89bbea1a0\">https://goerli.etherscan.io/tx/0xf6d40bf9c74cff266f8bc26dabcf7a44ca1c0e85387f297f43fa5cb89bbea1a0</a></p>\n<p><strong>The SDK</strong></p>\n<p>Biconomy SDK is the ultimate Web3 suite for developers to leverage smart accounts &#x26; simplify user journeys from complex multi-step into a simple one-click experience.</p>\n<p>Each user gets a smart contract wallet, rather than a simple cryptographic key pair, and dApps can customize all sorts of seamless interactions using transaction bundles via this SC wallet for the user.</p>\n<p>We have linked the below function with ‘connect’ rpc call by invoking snap.</p>\n<pre><code class=\"language-javascript\">\nimport SmartAccount from '@biconomy-sdk/smart-account';\n\nasync function getsmartAccount(): Promise&#x3C;SmartAccount> {\n  smartAccount = new SmartAccount(wallet, {\n    activeNetworkId: Number(wallet.chainId),\n    // supportedNetworksIds: supportedChains,\n  });\n\n  smartAccount = await smartAccount.init();\n  console.log('initialized');\n  console.log(smartAccount);\n  return smartAccount;\n}\n</code></pre>\n<p><strong>What are the next steps if you would implement this?</strong></p>\n<p>We are looking forward to keyrings feature and ability to display smart account infromation in place of EOAs in the Metamask UI.</p>\n<ol>\n<li>We will be publishing Biconomy SDK compatible with MetaMask Snaps for developers to use.</li>\n<li>Adding social recovery module and one-click cross chain batched transactions using Smart Accounts and showing notifications as soon as destination chain transaction is executed.</li>\n</ol>\n<p><strong>Can you tell us a little bit about yourself and your team?</strong></p>\n<p>Sachin is the CTO and Co-Founder at Biconomy. Coming with a computer science background, he has 6 yrs of web2 and 5 yrs of web3 experience. He loves to take a structured approach towards problem solving and likes being hands on to quickly implement his ideas and test them.</p>\n<p>Chirag is a blockchain engineer at Biconomy. He loves programming and learning all things web3 through research and development.</p>\n<p><strong>When were you first introduced to MetaMask Snaps and what was your experience like?</strong></p>\n<p>We learned about MetaMask Snaps shortly before the ETHBogota hackathon. We were super impressed by the documentation and it’s capabilities through snap methods.</p>\n<p><strong>What makes MetaMask Snaps different from other wallets?</strong></p>\n<p>An ability to extend features of MetaMask wallet without depending on the MetaMask core team and enable faster growth. Developers can access existing features of MetaMask like JSON RPC calls interface and storage.</p>\n<p><strong>Tell us about what building MetaMask Snaps with MetaMask is like for you and your team?</strong></p>\n<p>Basic development was very intuitive, but we spent lot of time figuring out some of the permission requirements for specific methods. Ability to build custom UI elements for example to display balance of smart contract wallets just like EOAs is tricky at the momemnt.</p>\n<p><strong>What does MetaMask Snaps mean to you?</strong></p>\n<p>It is a secret weapon which enables us to support ERC4337 Smart contract wallets within MetaMask, without having to build or having dapps to integrate custom widget on their front end.</p>\n<p><strong>What opportunities do you see with MetaMask Snaps and the possibilities it unlocks for the Web3 space?</strong></p>\n<p>Dapp-specific customised MetaMask Snaps can provide better user experience and enable multichain interactions. Introducing fee abstraction, account abstraction and wallet security capabilities on top of existing Web3 userbase.</p>\n<p><strong>Any advice you would like to share with developers keen to try MetaMask Snaps?</strong></p>\n<p>Checkout <a href=\"https://github.com/MetaMask/snaps-skunkworks/discussions\">github discussions</a> and <a href=\"https://discord.gg/QeP7sw5YRy\">Discord</a> which can help mitigating lot of blockers in your development. Anyone familiar with javascript and json rpc calls can build. snap-monorepos and example MetaMask Snaps is a good place to speed up your development.</p>\n<p>If you’d like to store something, only single object can be stored so you can nest multiple key values within one single object. When you need to return responses from custom invoked snap methods make sure it returns plain json object.</p>\n<h3>Building with MetaMask Snaps</h3>\n<p>To get started with MetaMask Snaps:</p>\n<ol>\n<li>Checkout the <a href=\"https://docs.metamask.io/guide/snaps.html?utm_source=metamask&#x26;utm_medium=post&#x26;utm_campaign=2022_Sep_hackathon-winners-feature-blog-post_content_technical\">developer docs</a></li>\n<li>Install <a href=\"https://docs.metamask.io/snaps/get-started/install-flask/\">MetaMask Flask</a></li>\n<li>Check out a <a href=\"https://github.com/MetaMask/snaps-skunkworks/discussions/675\">MetaMask Snaps guide</a></li>\n<li>Stay connected with us on <a href=\"https://twitter.com/metamaskdev\">Twitter</a>, <a href=\"https://github.com/MetaMask/snaps-skunkworks/discussions\">GitHub discussions</a>, and <a href=\"https://discord.com/invite/consensys\">Discord</a></li>\n</ol>\n<p>Keep an eye out for our team at the next hackathon in an area near you! Happy BUIDLing ⚒️</p>\n<p><em>Disclaimer: MetaMask Snaps are generally developed by third parties other the ConsenSys Software.  Use of third-party-developed MetaMask Snaps is done at your own discretion and risk and with agreement that you will solely be responsible for any loss or damage that results from such activities.  ConsenSys makes no express or implied warranty, whether oral or written, regarding any third-party-developed MetaMask Snaps and disclaims all liability for third-party developed MetaMask Snaps.  Use of blockchain-related software carries risks, and you assume them in full when using MetaMask Snaps.</em></p>"}},"categories":[{"contentful_id":"Jc9ZQ937JgPbuV2Xap2l7","node_locale":"en-US","internal":{"type":"ContentfulNewsCategory"},"name":"Developers","slug":"developers"}],"metaTitle":null,"metaDescription":"Smart Account Session Snap: Gaming Dapp Auto Approvals | An ETHBogota Hackathon Snap ","canonicalUrl":null,"isPrivate":false},"news_bg":{"file":{"url":"//images.ctfassets.net/9sy2a0egs6zh/3hGSTCAVrdhSMmLJHSHOWT/94799532e03716ceb32ad39268bef4b0/news-detail-bg.png"}},"news_dark_bg":{"file":{"url":"//images.ctfassets.net/9sy2a0egs6zh/2StKLJf0XE38EyT9GlzQuO/ed29f2ebdc6b99f7ff32175a192133c3/news-detail-dark-bg.png"}},"hubspot":{"contentful_id":"5VZVKtbcRMzaaP77nsz3Fs","node_locale":"en-US","internal":{"type":"ContentfulHubSpotForm"},"title":"Receive our Newsletter","description":null,"portalId":"4795067","formId":"fbfea1e4-e214-4ab2-a98b-964f9a81695a","campaignId":null,"displayTitle":true,"width":null,"customClass":"newsletterOnNewsDetail","customId":null},"latest":{"internal":{"type":"ContentfulLayoutModuleContainer"},"contentful_id":"nO1tqQRjoUDUJfdg2B651","node_locale":"en-US","eyebrow":null,"headline":"Keep reading our latest stories","description":{"childMarkdownRemark":{"html":"<p>Developers, security news, and more</p>"}},"modules":[{"node_locale":"en-US","contentful_id":"6iOGB8Fiab9ilS0jfZ8N5I","fontSize":null,"ctaLink":"/news/","displayText":"All posts","displayTextTreatment":null,"newTab":false,"buttonDisplay":false,"buttonGradient":false,"buttonSecondary":false,"hideButtonIcon":null,"eventLabel":null,"eventCategory":null,"socialLink":null,"showCaretRight":null,"buttonCaretDown":null,"launchDarklyFlag":null,"customClassName":null,"internal":{"type":"ContentfulCta"},"hubSpotForm":null,"embedHTML":null,"downloadBrowsers":null,"mobileCta":null,"alternativeCta":null},{"contentful_id":"1B0wZMveBTSiMJZWu4uunI","node_locale":"en-US","internal":{"type":"ContentfulModuleContainer"},"title":"News > Latest Stories (3 items)","description":null,"numberOfItem":3,"columns":3,"columnType":null,"columnsOnTablet":null,"centerOnTablet":null,"columnsOnMobile":1,"centerOnMobile":null,"contentAlignment":"left","splitModules":false,"displayTitle":false,"isLiquiditySection":false,"isTrustBar":null,"gridModulesGap":"12px","loadMoreMode":null,"loadMoreCta":null,"carouselMode":null,"hasRegionSelector":null,"regionSelectorHeadline":null,"regionSelectorPopupTitle":null,"regionSelectorPopupText":null,"regionListKey":null,"extraData":null,"modules":[{"contentful_id":"3tE0tpmPMGsXezpOhKyWGO","node_locale":"en-US","internal":{"type":"ContentfulNewsCategory"},"name":"Latest","slug":"latest"}]}],"cta":null,"backgroundColor":"default","displayHeadline":true,"headlineAlignCenter":true,"contentAlignCenter":false,"headlineMarginTop0":null,"paddingTop":"40px","sectionPadding":null,"noPaddingTop":null,"noPaddingBottom":false,"modulesMargin":null,"isTab":false,"moduleId":null,"customClass":"storiesOnNewsDetail","sideImage":null,"backgroundSize":"cover","backgroundImage":null},"latestStories":{"nodes":[{"contentful_id":"ghBZNll5Qysz7dpOIST1C","node_locale":"en-US","internal":{"type":"ContentfulNews"},"title":"Web3 gaming enters its new era with HyperPlay ","slug":"web3-gaming-enters-new-era-with-hyperplay","subtitle":"Meet the builders who are transforming web3, in our More With MetaMask Partner Series.","image":{"title":"More Secure with MetaMask and HyperPlay","description":"More Secure with MetaMask and HyperPlay image","file":{"url":"//images.ctfassets.net/9sy2a0egs6zh/6xzZIdt9NYOKXvkW3L3wS9/55d690658a8b16c763b85755f1c852d4/24-11-17_MwM_Blog-Hyperplay-More-Secure-Gaming.png"},"gatsbyImageData":{"images":{"sources":[{"srcSet":"https://images.ctfassets.net/9sy2a0egs6zh/6xzZIdt9NYOKXvkW3L3wS9/55d690658a8b16c763b85755f1c852d4/24-11-17_MwM_Blog-Hyperplay-More-Secure-Gaming.png?w=480&h=270&q=80&fm=webp 480w,\nhttps://images.ctfassets.net/9sy2a0egs6zh/6xzZIdt9NYOKXvkW3L3wS9/55d690658a8b16c763b85755f1c852d4/24-11-17_MwM_Blog-Hyperplay-More-Secure-Gaming.png?w=960&h=541&q=80&fm=webp 960w,\nhttps://images.ctfassets.net/9sy2a0egs6zh/6xzZIdt9NYOKXvkW3L3wS9/55d690658a8b16c763b85755f1c852d4/24-11-17_MwM_Blog-Hyperplay-More-Secure-Gaming.png?w=1920&h=1081&q=80&fm=webp 1920w,\nhttps://images.ctfassets.net/9sy2a0egs6zh/6xzZIdt9NYOKXvkW3L3wS9/55d690658a8b16c763b85755f1c852d4/24-11-17_MwM_Blog-Hyperplay-More-Secure-Gaming.png?w=3840&h=2162&q=80&fm=webp 3840w","sizes":"(min-width: 1920px) 1920px, 100vw","type":"image/webp"}],"fallback":{"src":"https://images.ctfassets.net/9sy2a0egs6zh/6xzZIdt9NYOKXvkW3L3wS9/55d690658a8b16c763b85755f1c852d4/24-11-17_MwM_Blog-Hyperplay-More-Secure-Gaming.png?w=1920&h=1081&q=80&fm=png","srcSet":"https://images.ctfassets.net/9sy2a0egs6zh/6xzZIdt9NYOKXvkW3L3wS9/55d690658a8b16c763b85755f1c852d4/24-11-17_MwM_Blog-Hyperplay-More-Secure-Gaming.png?w=480&h=270&q=80&fm=png 480w,\nhttps://images.ctfassets.net/9sy2a0egs6zh/6xzZIdt9NYOKXvkW3L3wS9/55d690658a8b16c763b85755f1c852d4/24-11-17_MwM_Blog-Hyperplay-More-Secure-Gaming.png?w=960&h=541&q=80&fm=png 960w,\nhttps://images.ctfassets.net/9sy2a0egs6zh/6xzZIdt9NYOKXvkW3L3wS9/55d690658a8b16c763b85755f1c852d4/24-11-17_MwM_Blog-Hyperplay-More-Secure-Gaming.png?w=1920&h=1081&q=80&fm=png 1920w,\nhttps://images.ctfassets.net/9sy2a0egs6zh/6xzZIdt9NYOKXvkW3L3wS9/55d690658a8b16c763b85755f1c852d4/24-11-17_MwM_Blog-Hyperplay-More-Secure-Gaming.png?w=3840&h=2162&q=80&fm=png 3840w","sizes":"(min-width: 1920px) 1920px, 100vw"}},"layout":"constrained","width":1920,"height":1081}},"publishDate":"November 20, 2024","authors":[{"name":"Jacobc.eth","createProfilePage":false,"profileUrl":"jacobc-eth"}],"content":{"childMarkdownRemark":{"html":"<p><strong>MetaMask is the gateway to the decentralized web, enabling you to do more. Users can connect to any dapp, on any network, from any device. From DeFi to DeSci, gaming to NFTs, and beyond: MetaMask is passionate about the web3 community. Our More With MetaMask Partner Series shines a light on builders who are innovating across web3.</strong></p>\n<p>HyperPlay was founded to build a secure, censorship-resistant, free-market gaming platform. We were, and still are, driven by offering greater flexibility and ownership than the web2 paradigm, while also providing a safer cross-platform experience. Thanks to our efforts, today we are entering a new era of gaming.</p>\n<p><img src=\"//images.ctfassets.net/9sy2a0egs6zh/15BcZsL1lavnanKVEvyfz3/14eb170ac038e038d21f4438dfb14dcf/image1.png\" alt=\"HyperPlay MetaMask onboarding screen\"></p>\n<h2>Replacing the old formula</h2>\n<p>While the web2 gaming world continues to cling to its old ways, <a href=\"https://www.hyperplay.xyz/\">HyperPlay’s</a> web3-friendly game store allows players to carry their in-game assets across all games, offering them <a href=\"https://paragraph.xyz/@hyperplay/game-asset-ownership-matters-%E2%80%94-heres-why\">true ownership</a> and autonomy, without fear of de-platforming. <a href=\"https://metamask.io/download/\">MetaMask wallet</a> is a key integration, eliminating obstacles for gamers and developers alike.</p>\n<p>HyperPlay’s <a href=\"https://metamask.io/news/developers/how-hyperplay-is-building-a-web3-game-store-with-the-metamask-developer/\">game store</a> brings token swaps, cross-chain bridging, and easy cash to crypto on-ramping into every game through our in-game overlay. This overlay is powered by <a href=\"https://portfolio.metamask.io/\">MetaMask Portfolio</a>, making it secure and easy for gamers to access all of these functions no matter what game they're playing. Wallet transactions take place without leaving a game — reducing friction, improving safety, and preserving immersive experiences.</p>\n<p>Players can use the same trusted wallet across multiple games and marketplaces instead of traipsing from one platform to the next with a handful of proprietary wallets. Gamers can play their entire existing games library in the HyperPlay app including from other stores like Epic Games and GOG, and combine this library with the games from HyperPlay’s own official store, all gathered in a single gaming hub.</p>\n<p><img src=\"//images.ctfassets.net/9sy2a0egs6zh/55zJTyGyThEpypbYEsshCu/1013a41b0c9fd815b795a5600871e9b6/image4.png\" alt=\"HyperPlay store\"></p>\n<h2>Our new user experience</h2>\n<p>By eliminating the need to leave the game to manage assets, HyperPlay’s MetaMask overlay experience enhances gaming immersion — assets can be managed without skipping a beat. Reducing friction in web3 gaming is crucial for encouraging adoption — and bringing tokens and in-game collectibles closer to the action increases their utility. Assets that players own should be a joy to use rather than a burden. Streamlining and strengthening the transaction process doesn't just help players, it unlocks new opportunities for developers to innovate and better serve their audiences.</p>\n<p><a href=\"https://portfolio.metamask.io/\">MetaMask Portfolio</a> offers a secure, simple way to explore the web3 gaming universe, featuring HyperPlay's curated list of MetaMask-compatible games, which make it even easier to onboard new players to web3.</p>\n<p><img src=\"//images.ctfassets.net/9sy2a0egs6zh/5V4Q9S09rmMCkaQFaC2mnL/f563b4786503fe534e012074149c26a0/image2.png\" alt=\"MetaMask Portfolio HyperPlay integration\"></p>\n<h2>Securely powering gamers into the future</h2>\n<p>HyperPlay’s MetaMask integration also results in another essential benefit: a safer onboarding experience. The HyperPlay app allows for MetaMask transactions to be visible on-screen without the need to leave or even minimize the gaming experience, all while preserving the privacy of user keys. Secret recovery phrases are never exposed to games, and can even be kept off the gaming computer itself.</p>\n<p>For an extra layer of protection, HyperPlay and MetaMask offer users an external signing feature powered by MetaMask Mobile, which keeps keys off the player’s device. With MetaMask Mobile, gamers can send transactions to an external mobile device, providing a secure connection method that acts as an additional barrier against any potential security compromise.</p>\n<p>Combining the innovative tech of HyperPlay’s game store with the ironclad safety of MetaMask Portfolio’s in-game overlay is a powerful combination. Gone are the days where gamers have to hop out of game screens at a critical moment to swap tokens, bridge networks or buy crypto with fiat. The future of gaming is now.</p>\n<p><strong>Leave outdated gaming platforms behind and immerse yourself in web3 gaming by exploring <a href=\"https://www.hyperplay.xyz/downloads\">HyperPlay</a> today.</strong></p>"}},"categories":[{"contentful_id":"3tE0tpmPMGsXezpOhKyWGO","node_locale":"en-US","internal":{"type":"ContentfulNewsCategory"},"name":"Latest","slug":"latest"}],"metaTitle":null,"metaDescription":"Find out how MetaMask and HyperPlay are ushering in a new era of web3 gaming that is secure and powerful. ","canonicalUrl":null,"isPrivate":false},{"contentful_id":"1w4Dqc0UAOJcKZYtAciXO9","node_locale":"en-US","internal":{"type":"ContentfulNews"},"title":"MetaMask feature update: Chain Permissions","slug":"metamask-feature-update-chain-permissions","subtitle":"Use dapps on any network with granular control.","image":{"title":"MetaMask Chain Permissions feature update","description":"MetaMask Chain Permissions feature update","file":{"url":"//images.ctfassets.net/9sy2a0egs6zh/3STqGuBLPOVKb9UqI37651/99819f09e9a9e4ff0ec4296bfc20c868/MetaMask_feature_update_chain_permissions.png"},"gatsbyImageData":{"images":{"sources":[{"srcSet":"https://images.ctfassets.net/9sy2a0egs6zh/3STqGuBLPOVKb9UqI37651/99819f09e9a9e4ff0ec4296bfc20c868/MetaMask_feature_update_chain_permissions.png?w=480&h=270&q=80&fm=webp 480w,\nhttps://images.ctfassets.net/9sy2a0egs6zh/3STqGuBLPOVKb9UqI37651/99819f09e9a9e4ff0ec4296bfc20c868/MetaMask_feature_update_chain_permissions.png?w=960&h=540&q=80&fm=webp 960w,\nhttps://images.ctfassets.net/9sy2a0egs6zh/3STqGuBLPOVKb9UqI37651/99819f09e9a9e4ff0ec4296bfc20c868/MetaMask_feature_update_chain_permissions.png?w=1920&h=1080&q=80&fm=webp 1920w,\nhttps://images.ctfassets.net/9sy2a0egs6zh/3STqGuBLPOVKb9UqI37651/99819f09e9a9e4ff0ec4296bfc20c868/MetaMask_feature_update_chain_permissions.png?w=3840&h=2160&q=80&fm=webp 3840w","sizes":"(min-width: 1920px) 1920px, 100vw","type":"image/webp"}],"fallback":{"src":"https://images.ctfassets.net/9sy2a0egs6zh/3STqGuBLPOVKb9UqI37651/99819f09e9a9e4ff0ec4296bfc20c868/MetaMask_feature_update_chain_permissions.png?w=1920&h=1080&q=80&fm=png","srcSet":"https://images.ctfassets.net/9sy2a0egs6zh/3STqGuBLPOVKb9UqI37651/99819f09e9a9e4ff0ec4296bfc20c868/MetaMask_feature_update_chain_permissions.png?w=480&h=270&q=80&fm=png 480w,\nhttps://images.ctfassets.net/9sy2a0egs6zh/3STqGuBLPOVKb9UqI37651/99819f09e9a9e4ff0ec4296bfc20c868/MetaMask_feature_update_chain_permissions.png?w=960&h=540&q=80&fm=png 960w,\nhttps://images.ctfassets.net/9sy2a0egs6zh/3STqGuBLPOVKb9UqI37651/99819f09e9a9e4ff0ec4296bfc20c868/MetaMask_feature_update_chain_permissions.png?w=1920&h=1080&q=80&fm=png 1920w,\nhttps://images.ctfassets.net/9sy2a0egs6zh/3STqGuBLPOVKb9UqI37651/99819f09e9a9e4ff0ec4296bfc20c868/MetaMask_feature_update_chain_permissions.png?w=3840&h=2160&q=80&fm=png 3840w","sizes":"(min-width: 1920px) 1920px, 100vw"}},"layout":"constrained","width":1920,"height":1080}},"publishDate":"November 15, 2024","authors":[{"name":"MetaMask","createProfilePage":null,"profileUrl":"metamask"}],"content":{"childMarkdownRemark":{"html":"<p>MetaMask’s latest Extension updates optimize your experience when interacting with dapps and networks – via seamless 'intra-dapp' network switching, granular permission controls, and RPC url management.</p>\n<p>As web3 evolves, users increasingly interact with multiple dapps across various networks. Earlier this year, MetaMask elevated the multichain experience by <a href=\"https://metamask.io/news/latest/improved-multi-dapp-experience-in-metamask-extension/\">remembering the network</a> used for each dapp, eliminating the need for manual network switching when using multiple dapps simultaneously. Our new update takes it a step further. Users can now sign transactions on any permitted network, without needing to approve the network switch.</p>\n<iframe width=\"560\" height=\"315\" src=\"https://www.youtube.com/embed/b4oSFXT2U54?si=SPpXVhEIROyz47hY\" title=\"YouTube video player\" frameborder=\"0\" allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share\" referrerpolicy=\"strict-origin-when-cross-origin\" allowfullscreen></iframe>\n<p>Permissions are granted to each dapp at the time of connection, and can always be managed by the user to maintain flexibility and control. When users connect a dapp, the account that they are on, and all default enabled networks, will be permissioned for that dapp. You can edit at the time of connection, or after the connection has been made in the All Permissions section. Home stakers, and others preferring their own infrastructure, can also review and update their chosen RPC url as needed.</p>\n<p>Having control over the networks that dapps have access to adds a security layer—minimizing the impact of interacting with potentially malicious dapps to permitted networks. As the multichain ecosystem continues to expand, MetaMask is here to meet your needs and keep you protected along the way.</p>\n<p><strong>Make sure you're using the latest version of <a href=\"https://metamask.io/download/\">MetaMask Extension</a> for optimal security, and visit our <a href=\"https://support.metamask.io/managing-my-wallet/using-metamask/how-to-update-the-version-of-metamask/\">support page</a> to learn how to stay up to date. Looking for more? Dive into all our recent updates <a href=\"https://metamask.io/news/\">here</a>.</strong></p>"}},"categories":[{"contentful_id":"3tE0tpmPMGsXezpOhKyWGO","node_locale":"en-US","internal":{"type":"ContentfulNewsCategory"},"name":"Latest","slug":"latest"}],"metaTitle":null,"metaDescription":"MetaMask's new Chain Permissions update lets you seamlessly use dapps on any network, with granular control and trusted security.","canonicalUrl":null,"isPrivate":false},{"contentful_id":"4JsuzZRND5zXEs5BA7rLhV","node_locale":"en-US","internal":{"type":"ContentfulNews"},"title":"MetaMask feature update: Gas Station","slug":"metamask-feature-update-gas-station","subtitle":"Make running out of gas a thing of the past.","image":{"title":"MetaMask feature update: Gas Station","description":"MetaMask feature update: Gas Station image","file":{"url":"//images.ctfassets.net/9sy2a0egs6zh/2LeaQ6WFOBjI7SelPnhWyN/efb8b88e78c2fd174b9180c085a0c669/24-10-18_MwM_Blog-Gas-Station__16x9_.png"},"gatsbyImageData":{"images":{"sources":[{"srcSet":"https://images.ctfassets.net/9sy2a0egs6zh/2LeaQ6WFOBjI7SelPnhWyN/efb8b88e78c2fd174b9180c085a0c669/24-10-18_MwM_Blog-Gas-Station__16x9_.png?w=480&h=270&q=80&fm=webp 480w,\nhttps://images.ctfassets.net/9sy2a0egs6zh/2LeaQ6WFOBjI7SelPnhWyN/efb8b88e78c2fd174b9180c085a0c669/24-10-18_MwM_Blog-Gas-Station__16x9_.png?w=960&h=540&q=80&fm=webp 960w,\nhttps://images.ctfassets.net/9sy2a0egs6zh/2LeaQ6WFOBjI7SelPnhWyN/efb8b88e78c2fd174b9180c085a0c669/24-10-18_MwM_Blog-Gas-Station__16x9_.png?w=1920&h=1080&q=80&fm=webp 1920w,\nhttps://images.ctfassets.net/9sy2a0egs6zh/2LeaQ6WFOBjI7SelPnhWyN/efb8b88e78c2fd174b9180c085a0c669/24-10-18_MwM_Blog-Gas-Station__16x9_.png?w=3840&h=2160&q=80&fm=webp 3840w","sizes":"(min-width: 1920px) 1920px, 100vw","type":"image/webp"}],"fallback":{"src":"https://images.ctfassets.net/9sy2a0egs6zh/2LeaQ6WFOBjI7SelPnhWyN/efb8b88e78c2fd174b9180c085a0c669/24-10-18_MwM_Blog-Gas-Station__16x9_.png?w=1920&h=1080&q=80&fm=png","srcSet":"https://images.ctfassets.net/9sy2a0egs6zh/2LeaQ6WFOBjI7SelPnhWyN/efb8b88e78c2fd174b9180c085a0c669/24-10-18_MwM_Blog-Gas-Station__16x9_.png?w=480&h=270&q=80&fm=png 480w,\nhttps://images.ctfassets.net/9sy2a0egs6zh/2LeaQ6WFOBjI7SelPnhWyN/efb8b88e78c2fd174b9180c085a0c669/24-10-18_MwM_Blog-Gas-Station__16x9_.png?w=960&h=540&q=80&fm=png 960w,\nhttps://images.ctfassets.net/9sy2a0egs6zh/2LeaQ6WFOBjI7SelPnhWyN/efb8b88e78c2fd174b9180c085a0c669/24-10-18_MwM_Blog-Gas-Station__16x9_.png?w=1920&h=1080&q=80&fm=png 1920w,\nhttps://images.ctfassets.net/9sy2a0egs6zh/2LeaQ6WFOBjI7SelPnhWyN/efb8b88e78c2fd174b9180c085a0c669/24-10-18_MwM_Blog-Gas-Station__16x9_.png?w=3840&h=2160&q=80&fm=png 3840w","sizes":"(min-width: 1920px) 1920px, 100vw"}},"layout":"constrained","width":1920,"height":1080}},"publishDate":"November 15, 2024","authors":[{"name":"MetaMask","createProfilePage":null,"profileUrl":"metamask"}],"content":{"childMarkdownRemark":{"html":"<p>Being blocked by insufficient gas will no longer be a problem when swapping, thanks to MetaMask’s new Gas Station feature. Gas Station, aka gas-included swaps, is now available when you enable Smart Transactions with <a href=\"https://portfolio.metamask.io/swap?utm_source=owned-metamask&#x26;utm_medium=content&#x26;utm_campaign=cmp-81622450-afbf08\">MetaMask Swaps</a>.</p>\n<p>Most web3 users have experienced running out of gas. If users do not have enough ETH balance to cover network fees, they cannot proceed with their transaction. When this happens, users must go through a time consuming, and often costly, on-ramping process, such as purchasing ETH on a centralized exchange, and transferring funds to their on-chain wallet. On-chain opportunities can be time-sensitive, and the on-ramping process can take hours.</p>\n<p>With the rollout of Gas Station, our gas-included Swaps feature, users will be able to seamlessly and speedily complete their transactions — with network fees included in the quote(s) they receive. Additionally, users will not be limited to any specific liquidity source for their Swaps, meaning we will still compare prices across the same wide variety of providers as we do today. Our Swaps feature combines data from decentralized exchange aggregators, market makers, and DEXs, to ensure you get competitive quotes with the lowest network fees.</p>\n<iframe width=\"560\" height=\"315\" src=\"https://www.youtube.com/embed/ypQKSoKpyuQ?si=ScjRyg1HSHKZCvPt\" title=\"YouTube video player\" frameborder=\"0\" allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share\" referrerpolicy=\"strict-origin-when-cross-origin\" allowfullscreen></iframe>\n<p>Gas Station is live on MetaMask Extension via Ethereum mainnet, with mobile release on the horizon. Swaps value must be sufficient to also cover the cost of gas, and include the following assets: USDT, USDC, DAI, ETH, wETH, wBTC, wstETH, wSOL.</p>\n<p><strong>Head to <a href=\"https://portfolio.metamask.io/?utm_source=owned-metamask&#x26;utm_medium=content&#x26;utm_campaign=cmp-81522448-afbf08\">MetaMask Portfolio</a> today to get swapping. Looking for more? Dive into our recent updates <a href=\"https://metamask.io/news/\">here</a>.</strong></p>"}},"categories":[{"contentful_id":"3tE0tpmPMGsXezpOhKyWGO","node_locale":"en-US","internal":{"type":"ContentfulNewsCategory"},"name":"Latest","slug":"latest"}],"metaTitle":null,"metaDescription":"MetaMask's new Gas Station feature — aka gas-included swaps — now includes network fees in the quotes users receive. ","canonicalUrl":null,"isPrivate":false}]},"footer":{"contentful_id":"75bFgEllkMxpVsY8wWlroX","node_locale":"en-US","internal":{"type":"ContentfulLayoutFooter"},"logo":{"contentful_id":"6fkPzzTMo3IoMKGMshuSVD","node_locale":"en-US","internal":{"type":"ContentfulLogo"},"title":"MetaMask Logo","logo":{"title":"mm-logo","description":"","file":{"url":"//images.ctfassets.net/9sy2a0egs6zh/4zJfzJbG3kTDSk5Wo4RJI1/1b363263141cf629b28155e2625b56c9/mm-logo.svg"},"gatsbyImageData":null},"logoDarkMode":{"title":"mm-logo-white","description":"","file":{"url":"//images.ctfassets.net/9sy2a0egs6zh/2qy1wS5MmZOXkXn9yFlGJp/f3797a512c283e6f71450abd408b7452/mm-logo-white.svg"},"gatsbyImageData":null},"link":"/","newTab":false,"displayTitle":false,"widthLogo":null,"backgroundColor":null,"customClass":null},"menuItems":[{"columns":1,"title":"Learn More","displayTitle":true,"modules":[{"node_locale":"en-US","contentful_id":"2OzvqisgIr6A5gzJuQm24G","fontSize":null,"ctaLink":"/about/","displayText":"About","displayTextTreatment":null,"newTab":false,"buttonDisplay":false,"buttonGradient":null,"buttonSecondary":null,"hideButtonIcon":null,"eventLabel":null,"eventCategory":null,"socialLink":null,"showCaretRight":null,"buttonCaretDown":null,"launchDarklyFlag":null,"customClassName":null,"internal":{"type":"ContentfulCta"},"hubSpotForm":null,"embedHTML":null,"downloadBrowsers":null,"mobileCta":null,"alternativeCta":null},{"node_locale":"en-US","contentful_id":"5gPptdmrIjeGdYowLtrCHo","fontSize":null,"ctaLink":"/developer/","displayText":"Developers","displayTextTreatment":null,"newTab":false,"buttonDisplay":false,"buttonGradient":false,"buttonSecondary":false,"hideButtonIcon":null,"eventLabel":null,"eventCategory":null,"socialLink":null,"showCaretRight":false,"buttonCaretDown":null,"launchDarklyFlag":null,"customClassName":null,"internal":{"type":"ContentfulCta"},"hubSpotForm":null,"embedHTML":null,"downloadBrowsers":null,"mobileCta":null,"alternativeCta":null},{"node_locale":"en-US","contentful_id":"NM6IbWouGG4tghpXmNAtJ","fontSize":null,"ctaLink":"/download/","displayText":"Download","displayTextTreatment":null,"newTab":false,"buttonDisplay":false,"buttonGradient":false,"buttonSecondary":null,"hideButtonIcon":null,"eventLabel":null,"eventCategory":null,"socialLink":null,"showCaretRight":null,"buttonCaretDown":null,"launchDarklyFlag":null,"customClassName":null,"internal":{"type":"ContentfulCta"},"hubSpotForm":null,"embedHTML":null,"downloadBrowsers":null,"mobileCta":null,"alternativeCta":null},{"node_locale":"en-US","contentful_id":"6Ui9MOvxC2ExjCL1DeWH1q","fontSize":null,"ctaLink":"/institutions/","displayText":"MetaMask Institutional","displayTextTreatment":null,"newTab":false,"buttonDisplay":false,"buttonGradient":null,"buttonSecondary":null,"hideButtonIcon":null,"eventLabel":null,"eventCategory":null,"socialLink":null,"showCaretRight":null,"buttonCaretDown":null,"launchDarklyFlag":null,"customClassName":null,"internal":{"type":"ContentfulCta"},"hubSpotForm":null,"embedHTML":null,"downloadBrowsers":null,"mobileCta":null,"alternativeCta":null},{"node_locale":"en-US","contentful_id":"5UxqbY7b31kskBIj5IibqC","fontSize":null,"ctaLink":"/news/","displayText":"News","displayTextTreatment":null,"newTab":false,"buttonDisplay":false,"buttonGradient":null,"buttonSecondary":null,"hideButtonIcon":null,"eventLabel":null,"eventCategory":null,"socialLink":null,"showCaretRight":null,"buttonCaretDown":null,"launchDarklyFlag":null,"customClassName":null,"internal":{"type":"ContentfulCta"},"hubSpotForm":null,"embedHTML":null,"downloadBrowsers":null,"mobileCta":null,"alternativeCta":null},{"node_locale":"en-US","contentful_id":"6qlnG54k7tXJVMscTQhIun","fontSize":null,"ctaLink":"https://metamask.io/security/","displayText":"Security","displayTextTreatment":null,"newTab":false,"buttonDisplay":false,"buttonGradient":false,"buttonSecondary":false,"hideButtonIcon":null,"eventLabel":null,"eventCategory":null,"socialLink":null,"showCaretRight":null,"buttonCaretDown":null,"launchDarklyFlag":null,"customClassName":null,"internal":{"type":"ContentfulCta"},"hubSpotForm":null,"embedHTML":null,"downloadBrowsers":null,"mobileCta":null,"alternativeCta":null}]},{"columns":1,"title":"Get Involved","displayTitle":true,"modules":[{"node_locale":"en-US","contentful_id":"4mpEqrd6pewz2iX2Gfxt3z","fontSize":null,"ctaLink":"https://github.com/MetaMask/metamask-extension/","displayText":"GitHub","displayTextTreatment":null,"newTab":true,"buttonDisplay":false,"buttonGradient":null,"buttonSecondary":null,"hideButtonIcon":null,"eventLabel":null,"eventCategory":null,"socialLink":null,"showCaretRight":null,"buttonCaretDown":null,"launchDarklyFlag":null,"customClassName":null,"internal":{"type":"ContentfulCta"},"hubSpotForm":null,"embedHTML":null,"downloadBrowsers":null,"mobileCta":null,"alternativeCta":null},{"node_locale":"en-US","contentful_id":"6kdhvf8S4erkJPUlGWY0Ae","fontSize":null,"ctaLink":"https://gitcoin.co/","displayText":"Gitcoin","displayTextTreatment":null,"newTab":true,"buttonDisplay":false,"buttonGradient":null,"buttonSecondary":null,"hideButtonIcon":null,"eventLabel":null,"eventCategory":null,"socialLink":null,"showCaretRight":null,"buttonCaretDown":null,"launchDarklyFlag":null,"customClassName":null,"internal":{"type":"ContentfulCta"},"hubSpotForm":null,"embedHTML":null,"downloadBrowsers":null,"mobileCta":null,"alternativeCta":null},{"node_locale":"en-US","contentful_id":"5xd9mrSTpZ9Ky7XWhDDTth","fontSize":null,"ctaLink":"https://consensys.io/open-roles/?discipline=32543","displayText":"Open Positions","displayTextTreatment":null,"newTab":true,"buttonDisplay":false,"buttonGradient":null,"buttonSecondary":null,"hideButtonIcon":null,"eventLabel":null,"eventCategory":null,"socialLink":null,"showCaretRight":null,"buttonCaretDown":null,"launchDarklyFlag":null,"customClassName":null,"internal":{"type":"ContentfulCta"},"hubSpotForm":null,"embedHTML":null,"downloadBrowsers":null,"mobileCta":null,"alternativeCta":null},{"node_locale":"en-US","contentful_id":"6SYAtiKQ188OxaIKhHd7qj","fontSize":null,"ctaLink":"https://shop.spreadshirt.com/metamask/","displayText":"Swag Shop","displayTextTreatment":null,"newTab":true,"buttonDisplay":false,"buttonGradient":null,"buttonSecondary":null,"hideButtonIcon":null,"eventLabel":null,"eventCategory":null,"socialLink":null,"showCaretRight":null,"buttonCaretDown":null,"launchDarklyFlag":null,"customClassName":null,"internal":{"type":"ContentfulCta"},"hubSpotForm":null,"embedHTML":null,"downloadBrowsers":null,"mobileCta":null,"alternativeCta":null},{"node_locale":"en-US","contentful_id":"72IN7H47TcmIvmYyyTETIS","fontSize":null,"ctaLink":"https://consensys.io/contact","displayText":"Press & Partnerships","displayTextTreatment":null,"newTab":true,"buttonDisplay":false,"buttonGradient":null,"buttonSecondary":null,"hideButtonIcon":null,"eventLabel":null,"eventCategory":null,"socialLink":null,"showCaretRight":null,"buttonCaretDown":null,"launchDarklyFlag":null,"customClassName":null,"internal":{"type":"ContentfulCta"},"hubSpotForm":null,"embedHTML":null,"downloadBrowsers":null,"mobileCta":null,"alternativeCta":null}]},{"columns":1,"title":"Legal","displayTitle":true,"modules":[{"node_locale":"en-US","contentful_id":"4LiJW9vtg515J8Bhlzq8nC","fontSize":null,"ctaLink":"https://consensys.io/privacy-notice","displayText":"Privacy Policy","displayTextTreatment":null,"newTab":true,"buttonDisplay":false,"buttonGradient":null,"buttonSecondary":null,"hideButtonIcon":null,"eventLabel":null,"eventCategory":null,"socialLink":null,"showCaretRight":null,"buttonCaretDown":null,"launchDarklyFlag":null,"customClassName":null,"internal":{"type":"ContentfulCta"},"hubSpotForm":null,"embedHTML":null,"downloadBrowsers":null,"mobileCta":null,"alternativeCta":null},{"node_locale":"en-US","contentful_id":"2GpObxkrC9uUyLXLonaa3F","fontSize":null,"ctaLink":"/terms-of-use/","displayText":"Terms of Use","displayTextTreatment":null,"newTab":false,"buttonDisplay":false,"buttonGradient":null,"buttonSecondary":null,"hideButtonIcon":null,"eventLabel":null,"eventCategory":null,"socialLink":null,"showCaretRight":null,"buttonCaretDown":null,"launchDarklyFlag":null,"customClassName":null,"internal":{"type":"ContentfulCta"},"hubSpotForm":null,"embedHTML":null,"downloadBrowsers":null,"mobileCta":null,"alternativeCta":null},{"node_locale":"en-US","contentful_id":"5WpVb2xPvtf19P6NVNloit","fontSize":null,"ctaLink":"/cla/","displayText":"Contributor License Agreement","displayTextTreatment":null,"newTab":false,"buttonDisplay":false,"buttonGradient":null,"buttonSecondary":null,"hideButtonIcon":null,"eventLabel":null,"eventCategory":null,"socialLink":null,"showCaretRight":null,"buttonCaretDown":null,"launchDarklyFlag":null,"customClassName":null,"internal":{"type":"ContentfulCta"},"hubSpotForm":null,"embedHTML":null,"downloadBrowsers":null,"mobileCta":null,"alternativeCta":null},{"node_locale":"en-US","contentful_id":"19JXW3A4VGjeuEC6u46uC4","fontSize":null,"ctaLink":"/sitemap/","displayText":"Site Map","displayTextTreatment":null,"newTab":false,"buttonDisplay":false,"buttonGradient":null,"buttonSecondary":null,"hideButtonIcon":null,"eventLabel":null,"eventCategory":null,"socialLink":null,"showCaretRight":null,"buttonCaretDown":null,"launchDarklyFlag":null,"customClassName":null,"internal":{"type":"ContentfulCta"},"hubSpotForm":null,"embedHTML":null,"downloadBrowsers":null,"mobileCta":null,"alternativeCta":null}]}],"copyright":"©2024 MetaMask • A Consensys Formation"}},"pageContext":{"news_content_id":"4fMtlb79TIoodFWb7EwhCb","pathBuild":"/news/developers/smart-account-session-snap-gaming-dapp-auto-approvals/","node_locale":"en-US","localizedPages":["/download/","/news/","/swaps/","/","/news/latest/powerful-configurable-secure-metamask-is-how-you-show-up-in-web3/","/news/latest/metamask-portfolio-track-and-manage-your-web3-everything/","/news/latest/how-to-use-metamasks-buy-feature-to-fund-your-wallet/","/news/latest/how-to-use-metamasks-swap-feature-to-get-what-you-want/","/news/latest/how-to-stake-crypto-and-secure-the-network/","/news/latest/bridge-easily-move-tokens-across-chains/","/news/latest/dashboard-track-everything-in-one-place/","/news/latest/how-to-sell-crypto-for-cash/","/news/security/","/news/institutions/","/news/developers/"],"translation":null,"sharedCopy":{"browserNotSupported":"is not supported. Please download a browser that supports MetaMask.","by":"by","copyLink":"Copy link","copied":"Copied"}}},"staticQueryHashes":["2087975078","2272059946","3000541721","3155062165"],"slicesMap":{}}