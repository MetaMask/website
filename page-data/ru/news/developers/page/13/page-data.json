{"componentChunkName":"component---src-templates-contentful-news-category-layout-js","path":"/ru/news/developers/page/13/","result":{"data":{"header":{"contentful_id":"6I0knvqLf0DS5PB72DqUlM","node_locale":"ru","internal":{"type":"ContentfulLayoutHeader"},"logo":{"contentful_id":"6fkPzzTMo3IoMKGMshuSVD","node_locale":"ru","internal":{"type":"ContentfulLogo"},"title":"MetaMask Logo","logo":{"title":"mm-logo","description":"","file":{"url":"//images.ctfassets.net/9sy2a0egs6zh/4zJfzJbG3kTDSk5Wo4RJI1/1b363263141cf629b28155e2625b56c9/mm-logo.svg"},"gatsbyImageData":null},"logoDarkMode":{"title":"mm-logo-white","description":"","file":{"url":"//images.ctfassets.net/9sy2a0egs6zh/2qy1wS5MmZOXkXn9yFlGJp/f3797a512c283e6f71450abd408b7452/mm-logo-white.svg"},"gatsbyImageData":null},"link":"/","newTab":false,"displayTitle":false,"widthLogo":null,"backgroundColor":null,"customClass":null},"logoMobile":null,"menuItems":[{"columns":1,"title":"Особенности","displayTitle":true,"modules":[{"node_locale":"ru","contentful_id":"3Ngv0xEpQwwiVjfu3MVui9","fontSize":null,"ctaLink":"https://portfolio.metamask.io/","displayText":"MetaMask Portfolio","displayTextTreatment":null,"newTab":true,"buttonDisplay":false,"buttonGradient":false,"buttonSecondary":false,"hideButtonIcon":null,"eventLabel":"Nav Bar Button","eventCategory":"MetaMask Portfolio ","socialLink":null,"showCaretRight":null,"buttonCaretDown":null,"launchDarklyFlag":null,"customClassName":null,"internal":{"type":"ContentfulCta"},"hubSpotForm":null,"embedHTML":null,"downloadBrowsers":null,"mobileCta":null,"alternativeCta":null},{"node_locale":"ru","contentful_id":"272HODLnCd83z9Is3VXfCV","fontSize":null,"ctaLink":"/swaps/","displayText":"Swaps","displayTextTreatment":null,"newTab":false,"buttonDisplay":false,"buttonGradient":null,"buttonSecondary":null,"hideButtonIcon":null,"eventLabel":null,"eventCategory":null,"socialLink":null,"showCaretRight":null,"buttonCaretDown":null,"launchDarklyFlag":null,"customClassName":null,"internal":{"type":"ContentfulCta"},"hubSpotForm":null,"embedHTML":null,"downloadBrowsers":null,"mobileCta":null,"alternativeCta":null},{"node_locale":"ru","contentful_id":"3GGJuQss10B4ejSi1vzHxk","fontSize":null,"ctaLink":"/buy-crypto/","displayText":"Купить криптовалюту","displayTextTreatment":null,"newTab":false,"buttonDisplay":false,"buttonGradient":false,"buttonSecondary":false,"hideButtonIcon":null,"eventLabel":null,"eventCategory":null,"socialLink":null,"showCaretRight":null,"buttonCaretDown":null,"launchDarklyFlag":null,"customClassName":null,"internal":{"type":"ContentfulCta"},"hubSpotForm":null,"embedHTML":null,"downloadBrowsers":null,"mobileCta":null,"alternativeCta":null},{"node_locale":"ru","contentful_id":"4OJuQIyiz6RKXiEZ2aMYX5","fontSize":null,"ctaLink":"/sell-crypto/","displayText":"Продать криптовалюту","displayTextTreatment":null,"newTab":false,"buttonDisplay":false,"buttonGradient":false,"buttonSecondary":false,"hideButtonIcon":null,"eventLabel":null,"eventCategory":null,"socialLink":null,"showCaretRight":null,"buttonCaretDown":null,"launchDarklyFlag":"sell-crypto","customClassName":null,"internal":{"type":"ContentfulCta"},"hubSpotForm":null,"embedHTML":null,"downloadBrowsers":null,"mobileCta":null,"alternativeCta":null},{"node_locale":"ru","contentful_id":"6j2UlI3YimoI5gCk4jI1Ob","fontSize":null,"ctaLink":"https://portfolio.metamask.io/stake?tab=liquid","displayText":"Выполняйте стейкинг и зарабатывайте","displayTextTreatment":null,"newTab":true,"buttonDisplay":false,"buttonGradient":false,"buttonSecondary":false,"hideButtonIcon":null,"eventLabel":null,"eventCategory":null,"socialLink":null,"showCaretRight":false,"buttonCaretDown":false,"launchDarklyFlag":"earn","customClassName":null,"internal":{"type":"ContentfulCta"},"hubSpotForm":null,"embedHTML":null,"downloadBrowsers":null,"mobileCta":null,"alternativeCta":null},{"node_locale":"ru","contentful_id":"73Te5lYt1GgouJN1uatwfu","fontSize":null,"ctaLink":"https://portfolio.metamask.io/bridge","displayText":"Перемещайте токены через мост","displayTextTreatment":null,"newTab":true,"buttonDisplay":false,"buttonGradient":false,"buttonSecondary":false,"hideButtonIcon":null,"eventLabel":null,"eventCategory":null,"socialLink":null,"showCaretRight":false,"buttonCaretDown":false,"launchDarklyFlag":"bridge","customClassName":null,"internal":{"type":"ContentfulCta"},"hubSpotForm":null,"embedHTML":null,"downloadBrowsers":null,"mobileCta":null,"alternativeCta":null},{"node_locale":"ru","contentful_id":"1NfSHcPaEcXx4uyhEbGdIN","fontSize":null,"ctaLink":"https://portfolio.metamask.io/card","displayText":"MetaMask Card","displayTextTreatment":null,"newTab":true,"buttonDisplay":false,"buttonGradient":false,"buttonSecondary":false,"hideButtonIcon":null,"eventLabel":"Nav Bar Button","eventCategory":"MetaMask Portfolio ","socialLink":null,"showCaretRight":false,"buttonCaretDown":false,"launchDarklyFlag":"metamask-card","customClassName":null,"internal":{"type":"ContentfulCta"},"hubSpotForm":null,"embedHTML":null,"downloadBrowsers":null,"mobileCta":null,"alternativeCta":null},{"node_locale":"ru","contentful_id":"5n6LAatVBeM1vw6ok6bqcR","fontSize":null,"ctaLink":"/snaps/","displayText":"MetaMask Snaps","displayTextTreatment":null,"newTab":false,"buttonDisplay":false,"buttonGradient":false,"buttonSecondary":false,"hideButtonIcon":null,"eventLabel":null,"eventCategory":null,"socialLink":null,"showCaretRight":null,"buttonCaretDown":null,"launchDarklyFlag":null,"customClassName":null,"internal":{"type":"ContentfulCta"},"hubSpotForm":null,"embedHTML":null,"downloadBrowsers":null,"mobileCta":null,"alternativeCta":null}]},{"columns":1,"title":"Сборка","displayTitle":true,"modules":[{"node_locale":"ru","contentful_id":"1JmDHLFU2Y45o1QXsQDjC1","fontSize":null,"ctaLink":"https://docs.metamask.io/","displayText":"Документация","displayTextTreatment":null,"newTab":true,"buttonDisplay":null,"buttonGradient":null,"buttonSecondary":null,"hideButtonIcon":null,"eventLabel":null,"eventCategory":null,"socialLink":null,"showCaretRight":false,"buttonCaretDown":null,"launchDarklyFlag":null,"customClassName":null,"internal":{"type":"ContentfulCta"},"hubSpotForm":null,"embedHTML":null,"downloadBrowsers":null,"mobileCta":null,"alternativeCta":null},{"node_locale":"ru","contentful_id":"5gPptdmrIjeGdYowLtrCHo","fontSize":null,"ctaLink":"/developer/","displayText":"Разработчики","displayTextTreatment":null,"newTab":false,"buttonDisplay":false,"buttonGradient":false,"buttonSecondary":false,"hideButtonIcon":null,"eventLabel":null,"eventCategory":null,"socialLink":null,"showCaretRight":false,"buttonCaretDown":null,"launchDarklyFlag":null,"customClassName":null,"internal":{"type":"ContentfulCta"},"hubSpotForm":null,"embedHTML":null,"downloadBrowsers":null,"mobileCta":null,"alternativeCta":null},{"node_locale":"ru","contentful_id":"60cjqarld8mVDWHs8qZ4q1","fontSize":null,"ctaLink":"/institutions/","displayText":"Institutions","displayTextTreatment":null,"newTab":false,"buttonDisplay":false,"buttonGradient":false,"buttonSecondary":null,"hideButtonIcon":null,"eventLabel":null,"eventCategory":null,"socialLink":null,"showCaretRight":false,"buttonCaretDown":false,"launchDarklyFlag":"institutions","customClassName":null,"internal":{"type":"ContentfulCta"},"hubSpotForm":null,"embedHTML":null,"downloadBrowsers":null,"mobileCta":null,"alternativeCta":null},{"node_locale":"ru","contentful_id":"39eW2psItqGMrBVsMkLyDz","fontSize":null,"ctaLink":"/sdk/","displayText":"SDK","displayTextTreatment":null,"newTab":false,"buttonDisplay":false,"buttonGradient":null,"buttonSecondary":null,"hideButtonIcon":null,"eventLabel":null,"eventCategory":null,"socialLink":null,"showCaretRight":null,"buttonCaretDown":null,"launchDarklyFlag":null,"customClassName":null,"internal":{"type":"ContentfulCta"},"hubSpotForm":null,"embedHTML":null,"downloadBrowsers":null,"mobileCta":null,"alternativeCta":null}]},{"columns":1,"title":"Ресурсы","displayTitle":true,"modules":[{"node_locale":"ru","contentful_id":"6NMiwFe3tTn9NV1K9UGlcZ","fontSize":null,"ctaLink":"/news/","displayText":"Блог","displayTextTreatment":null,"newTab":false,"buttonDisplay":false,"buttonGradient":null,"buttonSecondary":null,"hideButtonIcon":null,"eventLabel":null,"eventCategory":null,"socialLink":null,"showCaretRight":null,"buttonCaretDown":null,"launchDarklyFlag":null,"customClassName":null,"internal":{"type":"ContentfulCta"},"hubSpotForm":null,"embedHTML":null,"downloadBrowsers":null,"mobileCta":null,"alternativeCta":null},{"node_locale":"ru","contentful_id":"3eavIRbBzcKt3XA1CZRrON","fontSize":null,"ctaLink":"https://support.metamask.io","displayText":"Поддержка","displayTextTreatment":null,"newTab":true,"buttonDisplay":false,"buttonGradient":null,"buttonSecondary":null,"hideButtonIcon":null,"eventLabel":null,"eventCategory":null,"socialLink":null,"showCaretRight":null,"buttonCaretDown":null,"launchDarklyFlag":null,"customClassName":null,"internal":{"type":"ContentfulCta"},"hubSpotForm":null,"embedHTML":null,"downloadBrowsers":null,"mobileCta":null,"alternativeCta":null},{"node_locale":"ru","contentful_id":"qGq9T5d9vFmRNSvrQbNOk","fontSize":null,"ctaLink":"/faqs/","displayText":"Часто задаваемые вопросы","displayTextTreatment":null,"newTab":false,"buttonDisplay":false,"buttonGradient":null,"buttonSecondary":null,"hideButtonIcon":null,"eventLabel":null,"eventCategory":null,"socialLink":null,"showCaretRight":null,"buttonCaretDown":null,"launchDarklyFlag":null,"customClassName":null,"internal":{"type":"ContentfulCta"},"hubSpotForm":null,"embedHTML":null,"downloadBrowsers":null,"mobileCta":null,"alternativeCta":null},{"node_locale":"ru","contentful_id":"hFoMVr6dpc0M4Q8OzIvoa","fontSize":null,"ctaLink":"https://community.metamask.io/","displayText":"Сообщество","displayTextTreatment":null,"newTab":true,"buttonDisplay":false,"buttonGradient":false,"buttonSecondary":null,"hideButtonIcon":null,"eventLabel":null,"eventCategory":null,"socialLink":null,"showCaretRight":null,"buttonCaretDown":null,"launchDarklyFlag":null,"customClassName":null,"internal":{"type":"ContentfulCta"},"hubSpotForm":null,"embedHTML":null,"downloadBrowsers":null,"mobileCta":null,"alternativeCta":null}]},{"node_locale":"ru","contentful_id":"6bkS7t4FlnNaxdS55HYJqk","fontSize":null,"ctaLink":"https://portfolio.metamask.io/explore/tokens","displayText":"Криптовалюты","displayTextTreatment":null,"newTab":true,"buttonDisplay":null,"buttonGradient":null,"buttonSecondary":null,"hideButtonIcon":null,"eventLabel":null,"eventCategory":null,"socialLink":null,"showCaretRight":false,"buttonCaretDown":false,"launchDarklyFlag":"cryptocurrencies","customClassName":null,"internal":{"type":"ContentfulCta"},"hubSpotForm":null,"embedHTML":null,"downloadBrowsers":null,"mobileCta":null,"alternativeCta":null},{"node_locale":"ru","contentful_id":"1wFIQKdGvyapyZJfmISWHc","fontSize":null,"ctaLink":"https://learn.metamask.io/overview","displayText":"Изучить","displayTextTreatment":null,"newTab":false,"buttonDisplay":false,"buttonGradient":false,"buttonSecondary":false,"hideButtonIcon":null,"eventLabel":"Nav Bar Button","eventCategory":"MetaMask Learn ","socialLink":null,"showCaretRight":null,"buttonCaretDown":null,"launchDarklyFlag":null,"customClassName":null,"internal":{"type":"ContentfulCta"},"hubSpotForm":null,"embedHTML":null,"downloadBrowsers":null,"mobileCta":null,"alternativeCta":null}],"downloadButton":{"node_locale":"ru","contentful_id":"3v9J6feUIljXuMBM0EYQNh","fontSize":null,"ctaLink":"/download/","displayText":"Скачать","displayTextTreatment":"Получите MetaMask","newTab":false,"buttonDisplay":true,"buttonGradient":false,"buttonSecondary":null,"hideButtonIcon":null,"eventLabel":"Nav Bar Button","eventCategory":"Download Intent","socialLink":null,"showCaretRight":null,"buttonCaretDown":null,"launchDarklyFlag":"mm-download-cta-header","customClassName":"ld-download-link","internal":{"type":"ContentfulCta"},"hubSpotForm":null,"embedHTML":null,"downloadBrowsers":null,"mobileCta":null,"alternativeCta":{"node_locale":"ru","contentful_id":"4bGNlgZAx6ugxPYFht8Ble","fontSize":null,"ctaLink":"https://portfolio.metamask.io/","displayText":"Смотреть MetaMask Web","displayTextTreatment":"Посмотрите свои активы","newTab":true,"buttonDisplay":true,"buttonGradient":false,"buttonSecondary":false,"hideButtonIcon":null,"eventLabel":null,"eventCategory":null,"socialLink":null,"showCaretRight":false,"buttonCaretDown":null,"launchDarklyFlag":"mm-portfolio-cta-header","customClassName":"ld-portfolio-link","internal":{"type":"ContentfulCta"},"hubSpotForm":null,"embedHTML":null,"downloadBrowsers":null}},"popupAnnouncement":{"contentful_id":"5yOpjVXgyG3eGYvZQkmv4f","node_locale":"ru","internal":{"type":"ContentfulPopupAnnouncement"},"title":null,"ctaText":"Откройте для себя MetaMask Portfolio сегодня. Отслеживайте и управляйте своими активами web3 в одном месте!","ctaLink":"https://portfolio.metamask.io","backgroundColor":"#037DD5"},"popupAnnouncementTreatment":{"contentful_id":"5cklTGW1qCkOwqxdVYhhFc","node_locale":"ru","internal":{"type":"ContentfulPopupAnnouncement"},"title":null,"ctaText":"Наблюдайте за ростом своей криптовалюты с помощью пула стейкинга. Выполняйте стейкинг криптовалюты и получайте вознаграждения за обеспечение безопасности сети Ethereum.","ctaLink":"https://portfolio.metamask.io/stake?tab=pooled","backgroundColor":"#037DD5"},"isSticky":true,"launchDarklyFlag":"use-treatment-for-non-uk-and-us-announcement"},"footer":{"contentful_id":"75bFgEllkMxpVsY8wWlroX","node_locale":"ru","internal":{"type":"ContentfulLayoutFooter"},"logo":{"contentful_id":"6fkPzzTMo3IoMKGMshuSVD","node_locale":"ru","internal":{"type":"ContentfulLogo"},"title":"MetaMask Logo","logo":{"title":"mm-logo","description":"","file":{"url":"//images.ctfassets.net/9sy2a0egs6zh/4zJfzJbG3kTDSk5Wo4RJI1/1b363263141cf629b28155e2625b56c9/mm-logo.svg"},"gatsbyImageData":null},"logoDarkMode":{"title":"mm-logo-white","description":"","file":{"url":"//images.ctfassets.net/9sy2a0egs6zh/2qy1wS5MmZOXkXn9yFlGJp/f3797a512c283e6f71450abd408b7452/mm-logo-white.svg"},"gatsbyImageData":null},"link":"/","newTab":false,"displayTitle":false,"widthLogo":null,"backgroundColor":null,"customClass":null},"menuItems":[{"columns":1,"title":"Подробнее","displayTitle":true,"modules":[{"node_locale":"ru","contentful_id":"2OzvqisgIr6A5gzJuQm24G","fontSize":null,"ctaLink":"/about/","displayText":"О нас","displayTextTreatment":null,"newTab":false,"buttonDisplay":false,"buttonGradient":null,"buttonSecondary":null,"hideButtonIcon":null,"eventLabel":null,"eventCategory":null,"socialLink":null,"showCaretRight":null,"buttonCaretDown":null,"launchDarklyFlag":null,"customClassName":null,"internal":{"type":"ContentfulCta"},"hubSpotForm":null,"embedHTML":null,"downloadBrowsers":null,"mobileCta":null,"alternativeCta":null},{"node_locale":"ru","contentful_id":"5gPptdmrIjeGdYowLtrCHo","fontSize":null,"ctaLink":"/developer/","displayText":"Разработчики","displayTextTreatment":null,"newTab":false,"buttonDisplay":false,"buttonGradient":false,"buttonSecondary":false,"hideButtonIcon":null,"eventLabel":null,"eventCategory":null,"socialLink":null,"showCaretRight":false,"buttonCaretDown":null,"launchDarklyFlag":null,"customClassName":null,"internal":{"type":"ContentfulCta"},"hubSpotForm":null,"embedHTML":null,"downloadBrowsers":null,"mobileCta":null,"alternativeCta":null},{"node_locale":"ru","contentful_id":"NM6IbWouGG4tghpXmNAtJ","fontSize":null,"ctaLink":"/download/","displayText":"Скачать","displayTextTreatment":null,"newTab":false,"buttonDisplay":false,"buttonGradient":false,"buttonSecondary":null,"hideButtonIcon":null,"eventLabel":null,"eventCategory":null,"socialLink":null,"showCaretRight":null,"buttonCaretDown":null,"launchDarklyFlag":null,"customClassName":null,"internal":{"type":"ContentfulCta"},"hubSpotForm":null,"embedHTML":null,"downloadBrowsers":null,"mobileCta":null,"alternativeCta":null},{"node_locale":"ru","contentful_id":"6Ui9MOvxC2ExjCL1DeWH1q","fontSize":null,"ctaLink":"/institutions/","displayText":"MetaMask Institutional","displayTextTreatment":null,"newTab":false,"buttonDisplay":false,"buttonGradient":null,"buttonSecondary":null,"hideButtonIcon":null,"eventLabel":null,"eventCategory":null,"socialLink":null,"showCaretRight":null,"buttonCaretDown":null,"launchDarklyFlag":null,"customClassName":null,"internal":{"type":"ContentfulCta"},"hubSpotForm":null,"embedHTML":null,"downloadBrowsers":null,"mobileCta":null,"alternativeCta":null},{"node_locale":"ru","contentful_id":"5UxqbY7b31kskBIj5IibqC","fontSize":null,"ctaLink":"/news/","displayText":"Новости","displayTextTreatment":null,"newTab":false,"buttonDisplay":false,"buttonGradient":null,"buttonSecondary":null,"hideButtonIcon":null,"eventLabel":null,"eventCategory":null,"socialLink":null,"showCaretRight":null,"buttonCaretDown":null,"launchDarklyFlag":null,"customClassName":null,"internal":{"type":"ContentfulCta"},"hubSpotForm":null,"embedHTML":null,"downloadBrowsers":null,"mobileCta":null,"alternativeCta":null},{"node_locale":"ru","contentful_id":"6qlnG54k7tXJVMscTQhIun","fontSize":null,"ctaLink":"https://metamask.io/security/","displayText":"Безопасность","displayTextTreatment":null,"newTab":false,"buttonDisplay":false,"buttonGradient":false,"buttonSecondary":false,"hideButtonIcon":null,"eventLabel":null,"eventCategory":null,"socialLink":null,"showCaretRight":null,"buttonCaretDown":null,"launchDarklyFlag":null,"customClassName":null,"internal":{"type":"ContentfulCta"},"hubSpotForm":null,"embedHTML":null,"downloadBrowsers":null,"mobileCta":null,"alternativeCta":null}]},{"columns":1,"title":"Участвуйте","displayTitle":true,"modules":[{"node_locale":"ru","contentful_id":"4mpEqrd6pewz2iX2Gfxt3z","fontSize":null,"ctaLink":"https://github.com/MetaMask/metamask-extension/","displayText":"GitHub","displayTextTreatment":null,"newTab":true,"buttonDisplay":false,"buttonGradient":null,"buttonSecondary":null,"hideButtonIcon":null,"eventLabel":null,"eventCategory":null,"socialLink":null,"showCaretRight":null,"buttonCaretDown":null,"launchDarklyFlag":null,"customClassName":null,"internal":{"type":"ContentfulCta"},"hubSpotForm":null,"embedHTML":null,"downloadBrowsers":null,"mobileCta":null,"alternativeCta":null},{"node_locale":"ru","contentful_id":"6kdhvf8S4erkJPUlGWY0Ae","fontSize":null,"ctaLink":"https://gitcoin.co/","displayText":"Gitcoin","displayTextTreatment":null,"newTab":true,"buttonDisplay":false,"buttonGradient":null,"buttonSecondary":null,"hideButtonIcon":null,"eventLabel":null,"eventCategory":null,"socialLink":null,"showCaretRight":null,"buttonCaretDown":null,"launchDarklyFlag":null,"customClassName":null,"internal":{"type":"ContentfulCta"},"hubSpotForm":null,"embedHTML":null,"downloadBrowsers":null,"mobileCta":null,"alternativeCta":null},{"node_locale":"ru","contentful_id":"5xd9mrSTpZ9Ky7XWhDDTth","fontSize":null,"ctaLink":"https://consensys.io/open-roles/?discipline=32543","displayText":"Вакансии","displayTextTreatment":null,"newTab":true,"buttonDisplay":false,"buttonGradient":null,"buttonSecondary":null,"hideButtonIcon":null,"eventLabel":null,"eventCategory":null,"socialLink":null,"showCaretRight":null,"buttonCaretDown":null,"launchDarklyFlag":null,"customClassName":null,"internal":{"type":"ContentfulCta"},"hubSpotForm":null,"embedHTML":null,"downloadBrowsers":null,"mobileCta":null,"alternativeCta":null},{"node_locale":"ru","contentful_id":"6SYAtiKQ188OxaIKhHd7qj","fontSize":null,"ctaLink":"https://shop.spreadshirt.com/metamask/","displayText":"Магазин сувениров","displayTextTreatment":null,"newTab":true,"buttonDisplay":false,"buttonGradient":null,"buttonSecondary":null,"hideButtonIcon":null,"eventLabel":null,"eventCategory":null,"socialLink":null,"showCaretRight":null,"buttonCaretDown":null,"launchDarklyFlag":null,"customClassName":null,"internal":{"type":"ContentfulCta"},"hubSpotForm":null,"embedHTML":null,"downloadBrowsers":null,"mobileCta":null,"alternativeCta":null},{"node_locale":"ru","contentful_id":"72IN7H47TcmIvmYyyTETIS","fontSize":null,"ctaLink":"https://consensys.io/contact","displayText":"Пресса и партнерство","displayTextTreatment":null,"newTab":true,"buttonDisplay":false,"buttonGradient":null,"buttonSecondary":null,"hideButtonIcon":null,"eventLabel":null,"eventCategory":null,"socialLink":null,"showCaretRight":null,"buttonCaretDown":null,"launchDarklyFlag":null,"customClassName":null,"internal":{"type":"ContentfulCta"},"hubSpotForm":null,"embedHTML":null,"downloadBrowsers":null,"mobileCta":null,"alternativeCta":null}]},{"columns":1,"title":"Юридическая информация","displayTitle":true,"modules":[{"node_locale":"ru","contentful_id":"4LiJW9vtg515J8Bhlzq8nC","fontSize":null,"ctaLink":"https://consensys.io/privacy-notice","displayText":"Политика конфиденциальности","displayTextTreatment":null,"newTab":true,"buttonDisplay":false,"buttonGradient":null,"buttonSecondary":null,"hideButtonIcon":null,"eventLabel":null,"eventCategory":null,"socialLink":null,"showCaretRight":null,"buttonCaretDown":null,"launchDarklyFlag":null,"customClassName":null,"internal":{"type":"ContentfulCta"},"hubSpotForm":null,"embedHTML":null,"downloadBrowsers":null,"mobileCta":null,"alternativeCta":null},{"node_locale":"ru","contentful_id":"2GpObxkrC9uUyLXLonaa3F","fontSize":null,"ctaLink":"/terms-of-use/","displayText":"Условия использования","displayTextTreatment":null,"newTab":false,"buttonDisplay":false,"buttonGradient":null,"buttonSecondary":null,"hideButtonIcon":null,"eventLabel":null,"eventCategory":null,"socialLink":null,"showCaretRight":null,"buttonCaretDown":null,"launchDarklyFlag":null,"customClassName":null,"internal":{"type":"ContentfulCta"},"hubSpotForm":null,"embedHTML":null,"downloadBrowsers":null,"mobileCta":null,"alternativeCta":null},{"node_locale":"ru","contentful_id":"5WpVb2xPvtf19P6NVNloit","fontSize":null,"ctaLink":"/cla/","displayText":"Лицензионное соглашение с вкладчиком","displayTextTreatment":null,"newTab":false,"buttonDisplay":false,"buttonGradient":null,"buttonSecondary":null,"hideButtonIcon":null,"eventLabel":null,"eventCategory":null,"socialLink":null,"showCaretRight":null,"buttonCaretDown":null,"launchDarklyFlag":null,"customClassName":null,"internal":{"type":"ContentfulCta"},"hubSpotForm":null,"embedHTML":null,"downloadBrowsers":null,"mobileCta":null,"alternativeCta":null},{"node_locale":"ru","contentful_id":"19JXW3A4VGjeuEC6u46uC4","fontSize":null,"ctaLink":"/sitemap/","displayText":"Карта сайта","displayTextTreatment":null,"newTab":false,"buttonDisplay":false,"buttonGradient":null,"buttonSecondary":null,"hideButtonIcon":null,"eventLabel":null,"eventCategory":null,"socialLink":null,"showCaretRight":null,"buttonCaretDown":null,"launchDarklyFlag":null,"customClassName":null,"internal":{"type":"ContentfulCta"},"hubSpotForm":null,"embedHTML":null,"downloadBrowsers":null,"mobileCta":null,"alternativeCta":null}]}],"copyright":"©2024 MetaMask • Формирование консенсуса"},"seo":{"contentful_id":"7k3sOZj8ICP53K0J7jXp7B","node_locale":"ru","internal":{"type":"ContentfulSeo"},"pageTitle":"Будьте в курсе последних событий Web3: Новости MetaMask","pageDescription":"Будьте в курсе: последние новости и развитие событие в Новостях MetaMask.","metaTags":null,"linkTags":null,"canonicalUrl":null,"featuredImage":{"file":{"url":"//images.ctfassets.net/9sy2a0egs6zh/77mVisJcj8sMquYlW3iq73/3412acb5167a46c4bbe93f16f686ac91/ru_-_seo1.png"},"gatsbyImageData":{"images":{"sources":[{"srcSet":"https://images.ctfassets.net/9sy2a0egs6zh/77mVisJcj8sMquYlW3iq73/3412acb5167a46c4bbe93f16f686ac91/ru_-_seo1.png?w=192&h=101&q=100&fm=webp 192w,\nhttps://images.ctfassets.net/9sy2a0egs6zh/77mVisJcj8sMquYlW3iq73/3412acb5167a46c4bbe93f16f686ac91/ru_-_seo1.png?w=384&h=202&q=100&fm=webp 384w,\nhttps://images.ctfassets.net/9sy2a0egs6zh/77mVisJcj8sMquYlW3iq73/3412acb5167a46c4bbe93f16f686ac91/ru_-_seo1.png?w=768&h=403&q=100&fm=webp 768w,\nhttps://images.ctfassets.net/9sy2a0egs6zh/77mVisJcj8sMquYlW3iq73/3412acb5167a46c4bbe93f16f686ac91/ru_-_seo1.png?w=1536&h=806&q=100&fm=webp 1536w","sizes":"(min-width: 768px) 768px, 100vw","type":"image/webp"}],"fallback":{"src":"https://images.ctfassets.net/9sy2a0egs6zh/77mVisJcj8sMquYlW3iq73/3412acb5167a46c4bbe93f16f686ac91/ru_-_seo1.png?w=768&h=403&q=100&fm=png","srcSet":"https://images.ctfassets.net/9sy2a0egs6zh/77mVisJcj8sMquYlW3iq73/3412acb5167a46c4bbe93f16f686ac91/ru_-_seo1.png?w=192&h=101&q=100&fm=png 192w,\nhttps://images.ctfassets.net/9sy2a0egs6zh/77mVisJcj8sMquYlW3iq73/3412acb5167a46c4bbe93f16f686ac91/ru_-_seo1.png?w=384&h=202&q=100&fm=png 384w,\nhttps://images.ctfassets.net/9sy2a0egs6zh/77mVisJcj8sMquYlW3iq73/3412acb5167a46c4bbe93f16f686ac91/ru_-_seo1.png?w=768&h=403&q=100&fm=png 768w,\nhttps://images.ctfassets.net/9sy2a0egs6zh/77mVisJcj8sMquYlW3iq73/3412acb5167a46c4bbe93f16f686ac91/ru_-_seo1.png?w=1536&h=806&q=100&fm=png 1536w","sizes":"(min-width: 768px) 768px, 100vw"}},"layout":"constrained","width":768,"height":403}},"structuredDataSchema":null},"hero":{"contentful_id":"4ZjPczvQn6fYgigGRFSQPf","node_locale":"ru","internal":{"type":"ContentfulLayoutHero"},"headline":"Новости MetaMask","headlinePortfolio":null,"hideHeadline":false,"description":{"childMarkdownRemark":{"html":"<a href=\"https://twitter.com/metamask/\" target=\"_blank\">\n  <svg width=\"25\" height=\"20\" viewBox=\"0 0 25 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n<path d=\"M24.5 2.55699C23.617 2.94899 22.668 3.21299 21.672 3.33199C22.689 2.72299 23.47 1.75799 23.837 0.607986C22.886 1.17199 21.832 1.58199 20.71 1.80299C19.813 0.845986 18.532 0.247986 17.116 0.247986C13.937 0.247986 11.601 3.21399 12.319 6.29299C8.228 6.08799 4.6 4.12799 2.171 1.14899C0.881 3.36199 1.502 6.25699 3.694 7.72299C2.888 7.69699 2.128 7.47599 1.465 7.10699C1.411 9.38799 3.046 11.522 5.414 11.997C4.721 12.185 3.962 12.229 3.19 12.081C3.816 14.037 5.634 15.46 7.79 15.5C5.72 17.123 3.112 17.848 0.5 17.54C2.679 18.937 5.268 19.752 8.048 19.752C17.19 19.752 22.355 12.031 22.043 5.10599C23.005 4.41099 23.84 3.54399 24.5 2.55699Z\" fill=\"#535A61\"/>\n</svg>Подпишитесь на @MetaMask\n</a>"}},"descriptionPortfolio":null,"note":null,"eyebrow":null,"eyebrowLogo":null,"eyebrowMobileLogo":null,"eyebrowLogoDarkMode":null,"eyebrowMobileLogoDarkMode":null,"sideImageFlex":false,"sideImageFoxAnimation":null,"sideImage":null,"sideImagePortfolio":null,"sideImageDarkMode":null,"sideImagePortfolioDarkMode":null,"ctas":null,"hubSpotForm":null,"backgroundColor":"default","contentAlignment":"center","learnMoreText":null,"headlineBorderBottom":false,"showFavIcon":false,"sectionPadding":"32px","backgroundImage":{"title":"News Hero","description":"","file":{"url":"//images.ctfassets.net/9sy2a0egs6zh/2DkHpHReuWGy3rlFwsseg9/f0814f115710a6ffa477c575a2215f89/News_Hero.png"},"gatsbyImageData":{"images":{"sources":[{"srcSet":"https://images.ctfassets.net/9sy2a0egs6zh/2DkHpHReuWGy3rlFwsseg9/f0814f115710a6ffa477c575a2215f89/News_Hero.png?w=480&h=96&q=80&fm=webp 480w,\nhttps://images.ctfassets.net/9sy2a0egs6zh/2DkHpHReuWGy3rlFwsseg9/f0814f115710a6ffa477c575a2215f89/News_Hero.png?w=960&h=192&q=80&fm=webp 960w,\nhttps://images.ctfassets.net/9sy2a0egs6zh/2DkHpHReuWGy3rlFwsseg9/f0814f115710a6ffa477c575a2215f89/News_Hero.png?w=1920&h=384&q=80&fm=webp 1920w","sizes":"(min-width: 1920px) 1920px, 100vw","type":"image/webp"}],"fallback":{"src":"https://images.ctfassets.net/9sy2a0egs6zh/2DkHpHReuWGy3rlFwsseg9/f0814f115710a6ffa477c575a2215f89/News_Hero.png?w=1920&h=384&q=80&fm=png","srcSet":"https://images.ctfassets.net/9sy2a0egs6zh/2DkHpHReuWGy3rlFwsseg9/f0814f115710a6ffa477c575a2215f89/News_Hero.png?w=480&h=96&q=80&fm=png 480w,\nhttps://images.ctfassets.net/9sy2a0egs6zh/2DkHpHReuWGy3rlFwsseg9/f0814f115710a6ffa477c575a2215f89/News_Hero.png?w=960&h=192&q=80&fm=png 960w,\nhttps://images.ctfassets.net/9sy2a0egs6zh/2DkHpHReuWGy3rlFwsseg9/f0814f115710a6ffa477c575a2215f89/News_Hero.png?w=1920&h=384&q=80&fm=png 1920w","sizes":"(min-width: 1920px) 1920px, 100vw"}},"layout":"constrained","width":1920,"height":384}},"backgroundImageDarkMode":{"title":"News Hero (Dark mode)","description":"","file":{"url":"//images.ctfassets.net/9sy2a0egs6zh/RjpEbmeL6vLPeiSjePDpy/2f287d7a85aecbb7657d3bbd0b28b8ed/Auto_Layout_Vertical-dark.png"},"gatsbyImageData":{"images":{"sources":[{"srcSet":"https://images.ctfassets.net/9sy2a0egs6zh/RjpEbmeL6vLPeiSjePDpy/2f287d7a85aecbb7657d3bbd0b28b8ed/Auto_Layout_Vertical-dark.png?w=480&h=96&q=80&fm=webp 480w,\nhttps://images.ctfassets.net/9sy2a0egs6zh/RjpEbmeL6vLPeiSjePDpy/2f287d7a85aecbb7657d3bbd0b28b8ed/Auto_Layout_Vertical-dark.png?w=960&h=192&q=80&fm=webp 960w,\nhttps://images.ctfassets.net/9sy2a0egs6zh/RjpEbmeL6vLPeiSjePDpy/2f287d7a85aecbb7657d3bbd0b28b8ed/Auto_Layout_Vertical-dark.png?w=1920&h=384&q=80&fm=webp 1920w","sizes":"(min-width: 1920px) 1920px, 100vw","type":"image/webp"}],"fallback":{"src":"https://images.ctfassets.net/9sy2a0egs6zh/RjpEbmeL6vLPeiSjePDpy/2f287d7a85aecbb7657d3bbd0b28b8ed/Auto_Layout_Vertical-dark.png?w=1920&h=384&q=80&fm=png","srcSet":"https://images.ctfassets.net/9sy2a0egs6zh/RjpEbmeL6vLPeiSjePDpy/2f287d7a85aecbb7657d3bbd0b28b8ed/Auto_Layout_Vertical-dark.png?w=480&h=96&q=80&fm=png 480w,\nhttps://images.ctfassets.net/9sy2a0egs6zh/RjpEbmeL6vLPeiSjePDpy/2f287d7a85aecbb7657d3bbd0b28b8ed/Auto_Layout_Vertical-dark.png?w=960&h=192&q=80&fm=png 960w,\nhttps://images.ctfassets.net/9sy2a0egs6zh/RjpEbmeL6vLPeiSjePDpy/2f287d7a85aecbb7657d3bbd0b28b8ed/Auto_Layout_Vertical-dark.png?w=1920&h=384&q=80&fm=png 1920w","sizes":"(min-width: 1920px) 1920px, 100vw"}},"layout":"constrained","width":1920,"height":384}},"customClass":"newsHero"},"layoutModuleContainer":{"internal":{"type":"ContentfulLayoutModuleContainer"},"contentful_id":"P9sMsqPrQxPv6xyeMWZvn","node_locale":"ru","eyebrow":null,"headline":null,"description":null,"modules":[{"contentful_id":"3pVthg97YVjIy9Z6a8ntfm","node_locale":"ru","internal":{"type":"ContentfulModuleContainer"},"title":"Последние","description":{"childMarkdownRemark":{"html":"<h2>Последние новости</h2>\nНаши посты в блоге и релизы для вас"}},"numberOfItem":0,"columns":2,"columnType":null,"columnsOnTablet":null,"centerOnTablet":null,"columnsOnMobile":1,"centerOnMobile":null,"contentAlignment":"left","splitModules":false,"displayTitle":false,"isLiquiditySection":false,"isTrustBar":null,"gridModulesGap":"16px","loadMoreMode":null,"loadMoreCta":null,"carouselMode":null,"hasRegionSelector":null,"regionSelectorHeadline":null,"regionSelectorPopupTitle":null,"regionSelectorPopupText":null,"regionListKey":null,"extraData":null,"modules":[{"contentful_id":"3tE0tpmPMGsXezpOhKyWGO","node_locale":"ru","internal":{"type":"ContentfulNewsCategory"},"name":"Последние","slug":"latest"}]},{"contentful_id":"6e8qa9GygFsjJT0bK9T1Ae","node_locale":"ru","internal":{"type":"ContentfulModuleContainer"},"title":"Безопасность","description":{"childMarkdownRemark":{"html":"<h2>Безопасность</h2>\nВсе новости, связанные с безопасностью"}},"numberOfItem":0,"columns":2,"columnType":null,"columnsOnTablet":null,"centerOnTablet":null,"columnsOnMobile":1,"centerOnMobile":null,"contentAlignment":"left","splitModules":false,"displayTitle":false,"isLiquiditySection":false,"isTrustBar":null,"gridModulesGap":"16px","loadMoreMode":null,"loadMoreCta":null,"carouselMode":null,"hasRegionSelector":null,"regionSelectorHeadline":null,"regionSelectorPopupTitle":null,"regionSelectorPopupText":null,"regionListKey":null,"extraData":null,"modules":[{"contentful_id":"73InEMthwQcFmYQ8Ta61gS","node_locale":"ru","internal":{"type":"ContentfulNewsCategory"},"name":"Безопасность","slug":"security"}]},{"contentful_id":"3D1RfQOf8U5zibB0UvA9K6","node_locale":"ru","internal":{"type":"ContentfulModuleContainer"},"title":"Разработчики","description":{"childMarkdownRemark":{"html":"<h2>Разработчики</h2>\nВсе новости, связанные с разработчиками"}},"numberOfItem":0,"columns":2,"columnType":null,"columnsOnTablet":null,"centerOnTablet":null,"columnsOnMobile":1,"centerOnMobile":null,"contentAlignment":"left","splitModules":false,"displayTitle":false,"isLiquiditySection":false,"isTrustBar":null,"gridModulesGap":"16px","loadMoreMode":null,"loadMoreCta":null,"carouselMode":null,"hasRegionSelector":null,"regionSelectorHeadline":null,"regionSelectorPopupTitle":null,"regionSelectorPopupText":null,"regionListKey":null,"extraData":null,"modules":[{"contentful_id":"Jc9ZQ937JgPbuV2Xap2l7","node_locale":"ru","internal":{"type":"ContentfulNewsCategory"},"name":"Разработчики","slug":"developers"}]},{"contentful_id":"6abraWA8TPklSLTzB1wr8E","node_locale":"ru","internal":{"type":"ContentfulModuleContainer"},"title":"Учреждения","description":{"childMarkdownRemark":{"html":"<h2 class=\"mb-3\">Учреждения</h2>\nВсе новости, связанные с учреждениями"}},"numberOfItem":0,"columns":2,"columnType":null,"columnsOnTablet":null,"centerOnTablet":null,"columnsOnMobile":1,"centerOnMobile":null,"contentAlignment":"left","splitModules":false,"displayTitle":false,"isLiquiditySection":false,"isTrustBar":false,"gridModulesGap":"16px","loadMoreMode":null,"loadMoreCta":null,"carouselMode":null,"hasRegionSelector":null,"regionSelectorHeadline":null,"regionSelectorPopupTitle":null,"regionSelectorPopupText":null,"regionListKey":null,"extraData":null,"modules":[{"contentful_id":"75mzA7RLLPzWfBjl54wLRJ","node_locale":"ru","internal":{"type":"ContentfulNewsCategory"},"name":"Учреждения","slug":"institutions"}]}],"cta":null,"backgroundColor":"default","displayHeadline":false,"headlineAlignCenter":false,"contentAlignCenter":false,"headlineMarginTop0":null,"paddingTop":"40px","sectionPadding":null,"noPaddingTop":null,"noPaddingBottom":false,"modulesMargin":null,"isTab":true,"moduleId":null,"customClass":"newsCategoriesTab","sideImage":null,"backgroundSize":"cover","backgroundImage":null},"stories":{"nodes":[{"contentful_id":"3tC48HqGCqzdwFDmIBJL7f","node_locale":"ru","internal":{"type":"ContentfulNews"},"title":"CoinChoice Snap: Top Up Gas With Any Currency","slug":"coinchoice-snap-top-up-gas-with-any-currency","subtitle":"An ETHDenver Hackathon Winner ","image":{"title":"Snaps Spotlights Feature Images","description":"","file":{"url":"//images.ctfassets.net/9sy2a0egs6zh/153GRVA1VDu9vHQwC8g8Rx/39664dbd3833543b8d1a3072e04086ff/Snaps_Spotlights_Feature_Images.png"},"gatsbyImageData":{"images":{"sources":[{"srcSet":"https://images.ctfassets.net/9sy2a0egs6zh/153GRVA1VDu9vHQwC8g8Rx/39664dbd3833543b8d1a3072e04086ff/Snaps_Spotlights_Feature_Images.png?w=270&h=180&q=80&fm=webp 270w,\nhttps://images.ctfassets.net/9sy2a0egs6zh/153GRVA1VDu9vHQwC8g8Rx/39664dbd3833543b8d1a3072e04086ff/Snaps_Spotlights_Feature_Images.png?w=540&h=360&q=80&fm=webp 540w,\nhttps://images.ctfassets.net/9sy2a0egs6zh/153GRVA1VDu9vHQwC8g8Rx/39664dbd3833543b8d1a3072e04086ff/Snaps_Spotlights_Feature_Images.png?w=1080&h=720&q=80&fm=webp 1080w","sizes":"(min-width: 1080px) 1080px, 100vw","type":"image/webp"}],"fallback":{"src":"https://images.ctfassets.net/9sy2a0egs6zh/153GRVA1VDu9vHQwC8g8Rx/39664dbd3833543b8d1a3072e04086ff/Snaps_Spotlights_Feature_Images.png?w=1080&h=720&q=80&fm=png","srcSet":"https://images.ctfassets.net/9sy2a0egs6zh/153GRVA1VDu9vHQwC8g8Rx/39664dbd3833543b8d1a3072e04086ff/Snaps_Spotlights_Feature_Images.png?w=270&h=180&q=80&fm=png 270w,\nhttps://images.ctfassets.net/9sy2a0egs6zh/153GRVA1VDu9vHQwC8g8Rx/39664dbd3833543b8d1a3072e04086ff/Snaps_Spotlights_Feature_Images.png?w=540&h=360&q=80&fm=png 540w,\nhttps://images.ctfassets.net/9sy2a0egs6zh/153GRVA1VDu9vHQwC8g8Rx/39664dbd3833543b8d1a3072e04086ff/Snaps_Spotlights_Feature_Images.png?w=1080&h=720&q=80&fm=png 1080w","sizes":"(min-width: 1080px) 1080px, 100vw"}},"layout":"constrained","width":1920,"height":1280}},"publishDate":"April 24, 2023","authors":[{"name":"MetaMask","createProfilePage":null,"profileUrl":"metamask"}],"content":{"childMarkdownRemark":{"html":"<p><a href=\"https://metamask.io/snaps/\">MetaMask Snaps</a> is the roadmap to making MetaMask the most extensible wallet in the world. As a developer, you can bring your features and APIs to MetaMask in totally new ways. Web3 developers are the core of this growth and this series aims to showcase the novel MetMask Snaps being built today.</p>\n<h3>CoinChoice Snap</h3>\n<br /> \n<iframe width=\"560\" height=\"315\" src=\"https://www.youtube.com/embed/Dx1SGHAqFlY\" title=\"YouTube video player\" frameborder=\"0\" allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share\" allowfullscreen></iframe>\n<br /> \n<p><strong>Snap Repo</strong>: <a href=\"https://github.com/coinchoice/coinchoice/\">https://github.com/coinchoice/coinchoice/</a></p>\n<p><strong>Why did you build it?</strong></p>\n<p>CoinChoice was developed out of a small and tedious yet widely common problem whereby a Web3 user may own a wallet with tokens of value but no gas currency to perform any transactions.</p>\n<p>This problem is highlighted for users with fractionalized liquidity. A user managing multiple wallets and engaging opportunities across blockchain ecosystems will find themselves splitting their gas tokens across each of their wallets, reserving capital that would otherwise be for their investments in order to facilitate their digital assets and transactions. Beyond gas management, tokens transferred to a network where gas isn’t owned require the user to obtain gas before any further actions can be taken. Typically this involves the user accessing a Centralised Exchange to obtain and withdraw gas – subjecting the user to CEX withdrawal fees.</p>\n<p>Fundamentally, the experience is flawed. There should not be a dependency on centralised exchanges for users to access Web3. Users should not have to worry about managing their gas and instead should be able to simply interact with decentralised systems. This is not to say that gas should not be required. Gas serves a fantastic purpose of rewarding operators of a network, as well as preventing spam/ddos. Gas should simply be more flexible. If a dApp or game developer has a native token, this token should suffice as a currency to pay for gas.</p>\n<p>With this philosophy in mind, CoinChoice was developed.</p>\n<p>CoinChoice lives within the user’s browser, supplementing every transaction with the ability to manage gas in a currency that the user desires. If the User prefers to hold USDC over ETH, then gas can be paid in USDC.</p>\n<p>CoinChoice’s MetaMask Snap further complements the experience. Directly within the MetaMask Browser Extension, users can top up their ETH in exchange for their chosen gas currency. This turns MetaMask into a solution that replaces the visit to a Centralised Exchange, consolidating and simplifying the Web3 experience, and enabling new Web3 users to familiarise themselves with a subset of systems without becoming overwhelmed by the growing abundance of services and platforms.</p>\n<p><img src=\"//images.ctfassets.net/9sy2a0egs6zh/3WXvTGgbRilfA2XVPGUQIF/bfad2a54fc8e8ba22e9005958cadcd5f/team_1.jpeg\" alt=\"team 1\"></p>\n<p><strong>Walk us through the technical implementation?</strong></p>\n<p>CoinChoice is a MetaMask &#x26; Browser Extension that gives you choice over which coins are used to pay gas.</p>\n<h4>Packages</h4>\n<br /> \n<ul>\n<li>\n<p><code>backend</code>: A NestJS Web Server responsible for</p>\n<ul>\n<li>simulating transactions against the Tenderly API and 0x Quote API to yield gas estimates in chosen currency</li>\n<li>receive and syndicate messages between the client’s Metamask Snap and Browser Extension</li>\n<li>receive meta-tx to forward to relayer contracts</li>\n</ul>\n</li>\n<li>\n<p><code>browser-extension</code>: A Browser Extension powered by the Plasmo Framework</p>\n<ul>\n<li>intercepts RPC requests to MetaMask in order to inject swaps to ETH for gas financing</li>\n<li>offers a popup where Gas Coin can be selected</li>\n<li>offers a popup for Token management powered by Cypher Onboarding SDK</li>\n<li>all data is submitted to backend service where Blockchain Interactions and Simulations are managed</li>\n</ul>\n</li>\n<li>\n<p><code>contracts</code> : Smart Contracts that power relaying meta-transactions to facilitate swaps on 0x Protocol.</p>\n</li>\n<li>\n<p><code>frpc</code>: A package to leverage the Fluence Network’s fRPC Gateway</p>\n</li>\n<li>\n<p><code>meta-mask</code>: A package that contains a React.js Site and assocated MetaMask Snap.</p>\n<ul>\n<li>The Snap is responsible for offering ETH Swaps directly within the MetaMask interface, by showing a message “Need ETH?”</li>\n<li>The Snap works by making a request to the backend so that a message is forwarded to the client’s browser-extension, enabling an experience where the MetaMask Snap can initiate the Browser Extension</li>\n<li>The associated Site is used to enable MetaMask Snap Installation</li>\n</ul>\n</li>\n</ul>\n<h4>Technical Setup</h4>\n<br /> \n<p>CoinChoice is browser extension that supplements transactions with the opportunity to top up gas with a chosen currency.</p>\n<p>The browser extension is designed to prompt the user to pay gas in their selected currency prior to each transaction.</p>\n<p>If a user accepts, a meta-transcation is captured to convert an estimated amount of the chosen token to ETH.</p>\n<p>This meta-transaction is forwarded to the backend service that forwards it to the relayer Smart Contract where it is executed.</p>\n<p>Once the meta-transaction is settled, the user’s original transaction is prompted and accessible due to the deposit of the appropriate amount of gas.</p>\n<p>The MetaMask Snap is designed to forward a transaction that would otherwise be isolated within the MetaMask extension to the CoinChoice Extension.\nIt does this by</p>\n<ol>\n<li>submitting a request with the transaction details to the backend serivce</li>\n<li>the backend will then forward the transaction data to the browser extension over a websocket connection</li>\n<li>once the browser extension receives this websocket message, it initiates its flow of topping up an automatically estimated amount of gas in exchange for a selected currency.</li>\n</ol>\n<h4>Backend as a Message Bus</h4>\n<br /> \n<p>CoinChoice took the approach of using a backend as a message bus between the two frontend components due to the sandboxed nature of the MetaMask Snap.</p>\n<p>The Snap code isolation prevents communication to frontend components that reside in contexts outside of the MetaMask extension.</p>\n<p>However, Snaps can facilitate server-side requests, and therefore a backend service capable of managing user sessions can be used to pass messages between the frontend contexts.</p>\n<p>An example of this can be demonstrated through our source code.</p>\n<p>Within the MetaMask Snap, we submit a request to the server.</p>\n<p><em>See <a href=\"https://github.com/Coinchoice/coinchoice/blob/main/packages/meta-mask/packages/snap/src/index.ts#L12\">https://github.com/Coinchoice/coinchoice/blob/main/packages/meta-mask/packages/snap/src/index.ts#L12</a></em></p>\n<pre><code>import { OnTransactionHandler } from '@metamask/snaps-types';\nimport { heading, panel, text } from '@metamask/snaps-ui';\n\nexport interface JsonRpcRequest {\n    id: string | undefined;\n    jsonrpc: '2.0';\n    method: string;\n    params?: Array&#x3C;any>;\n}\n\nconst onTriggerAPI = async (transaction: JsonRpcRequest) => {\n    await fetch(`https://api.coinchoice.link/metamask`, {\n            method: 'POST',\n            body: JSON.stringify(transaction),\n            headers: { 'Content-Type': 'application/json' },\n        })\n    .then((res) => {\n        if (!res.ok) {\n            throw new Error('Bad response from server');\n        }\n        return res.json();\n    })\n    .then((json) => console.log(json))\n    .catch((err) => console.error(err));\n};\n\n// Handle outgoing transactions\nexport const onTransaction: OnTransactionHandler = async ({ transaction }) => {\n    // trigger browser extension for swap\n    const response = await onTriggerAPI(transaction);\n    // this is shown if no transaction is triggered\n    if (typeof transaction.data === 'string' &#x26;&#x26; transaction.data !== '0x') {\n        return {\n            content: panel([\n                heading('Need ETH for gas?'),\n                text('Receive ETH gasless for any currency with Coinchoice!'),\n            ]),\n        };\n    }\n\n    const currentGasPrice = await ethereum.request&#x3C;string>({\n        method: 'eth_gasPrice',\n    });\n\n    const transactionGas = parseInt(transaction.gas as string, 16);\n    const currentGasPriceInWei = parseInt(currentGasPrice ?? '', 16);\n    const maxFeePerGasInWei = parseInt(transaction.maxFeePerGas as string, 16);\n    const maxPriorityFeePerGasInWei = parseInt(transaction.maxPriorityFeePerGas as string, 16);\n\n    const gasFees = Math.min(\n        maxFeePerGasInWei * transactionGas,\n        (currentGasPriceInWei + maxPriorityFeePerGasInWei) * transactionGas\n    );\n\n    const transactionValueInWei = parseInt(transaction.value as string, 16);\n    const gasFeesPercentage = (gasFees / (gasFees + transactionValueInWei)) * 100;\n\n    return {\n        content: panel([\n            heading('Need ETH for gas?'),\n            text(\n                `As setup, you are paying **${gasFeesPercentage.toFixed(\n                2\n                )}%** in gas fees for this transaction.`\n            ),\n            text(`Also: **${response}**`),\n        ]),\n    };\n};\n</code></pre>\n<p>Then, within the the server, we use the <code>from</code> parameter within the received transaction payload to identify the wallet, and their associated session identifer.</p>\n<p><em>See: <a href=\"https://github.com/Coinchoice/coinchoice/blob/main/packages/backend/src/app.controller.ts#LL36-L49C3\">https://github.com/Coinchoice/coinchoice/blob/main/packages/backend/src/app.controller.ts#LL36-L49C3</a></em></p>\n<pre><code>@Post('metamask')\nasync metamask(@Body() data: any) {\n    const address = data.from;\n    const wallet = await this.walletService.findOne(address);\n    if (wallet) {\n        console.log(`clientId for ${address} is: ${wallet.clientId}`);\n        if (wallet.clientId) {\n            this.appGateway.server.to(wallet.clientId).emit('onMetamask', {\n                msg: data,\n                content: 'Hello from the backend!',\n            });\n        } else throw new NotFoundException('ClientId not found for this wallet');\n    } else throw new NotFoundException('Wallet not found');\n}\n</code></pre>\n<p>Finally, within the Browser Extension, we connect to the backend service over a websocket connection, whereby the connection itself establishes the user session identifer.\n<em>See: <a href=\"https://github.com/Coinchoice/coinchoice/blob/main/packages/browser-extension/src/contents/main.ts#L107\">https://github.com/Coinchoice/coinchoice/blob/main/packages/browser-extension/src/contents/main.ts#L107</a></em></p>\n<pre><code>const socket = io(API_HOST);\nsocket.on('connect', function () {\n    console.log('CS SOCKET: Connected');\n});\nsocket.on('events', function (data) {\n    console.log('CS SOCKET: event', data);\n});\nsocket.on('onMessage', async function (data) {\n    console.log('CS SOCKET: onMessage', data);\n    if (data.msg.startsWith('Hello client')) {\n        const [_, clientId] = data.msg.split('#');\n        wallet.clientId = clientId;\n        facade.setWallet(wallet);\n        try {\n            await busPromise('connect-wallet', { wallet });\n        } catch (e) {\n            console.log('CS SOCKET ERROR: onMessage - connect wallet');\n            console.error(e);\n        }\n    }\n});\nsocket.on('onMetamask', async function (data) {\n    console.log('CS SOCKET: onMetamask', data);\n    // On Metamask, open the Notification.\n    const { msg: tx }: { msg: TxRequest } = data;\n    // Cancel the original tx\n\n    await facade.waitForSignature({ method: 'need_eth', params: [tx] });\n});\n</code></pre>\n<p>Within this code snippet, we can seee how the transaction data received over the <code>onMetamask</code> message initiates the prompt for signature (meta-transaction).</p>\n<h3>Website for Snap Installation</h3>\n<br /> \n<p>In order to install a MetaMask Snap, a website must call the appropriate JSON RPC endpoint.</p>\n<pre><code>/**\n * Connect a snap to MetaMask.\n *\n * @param snapId - The ID of the snap.\n * @param params - The params to pass with the snap to connect.\n */\nexport const connectSnap = async (\n  snapId: string = defaultSnapOrigin,\n  params: Record&#x3C;'version' | string, unknown> = {},\n) => {\n  await window.ethereum.request({\n    method: 'wallet_requestSnaps',\n    params: {\n      [snapId]: params,\n    },\n  });\n};\n</code></pre>\n<p>The CoinChoice website for installing the MetaMask Snap hosted at <a href=\"https://cchoice.xyz/\">https://cchoice.xyz/</a> took inspiration from the MetaMask Team’s repository: <a href=\"https://github.com/ziad-saab/snappy-recovery\">https://github.com/ziad-saab/snappy-recovery</a></p>\n<h3>Getting started with CoinChoice</h3>\n<br /> \n<p>To get started, you can install the testnet enabled version of CoinChoice using the guide found at: <a href=\"https://app.coinchoice.link/\">https://app.coinchoice.link/</a></p>\n<p><img src=\"//images.ctfassets.net/9sy2a0egs6zh/4C5UatcAzKzNHVNLkUqvCu/c77204f055c8299165f3bedee1f1c4ae/team2.jpeg\" alt=\"team2\"></p>\n<p><strong>What are the next steps if you would implement this?</strong></p>\n<p>CoinChoice has been implemented and tested for the Goerli Ethereum Testnet, although quite experimental.</p>\n<p>Assuming incentives are aligned to enable the continued development of CoinChoice, the next steps would be to enable CoinChoice for all major EVM-compatible blockchains and then get the Browser Extension in the hands of as many users as possible.</p>\n<p>Exposure and distribution are always a challenge, and will therefore require investment into community development and partnerships with Web3 platforms, especially cross-chain platforms, seeking to alleviate this concern around gas requirements.</p>\n<p>Once the application is used and feedback is collected from end users, bug fixes and other improvements can be determined and applied to further improve the end-user experience.</p>\n<p>As for future developments, an early consideration for Account Abstraction that was not implemented due to issues associated with caller context may be re-considered. CoinChoice’s core functionality could also be modularised to allow dApp developers to simply embed gas management into their applications.</p>\n<p><strong>Can you tell us a little bit about yourself and your team?</strong></p>\n<p>The CoinChoice team is quite diverse, coming from very different walks of life, but sharing the same common objective – to create awesome software for a decentralised future.</p>\n<p>I’m Ryan, the engineer that created the CoinChoice Browser Extension and supported the solution’s architecture. I sought team members through EthDenver’s Discord. It was in Denver that all team members actually met in person. Each of us has a unique skill set to bring to the table that enabled us to work very well together. Disputes and problems were faced head-on, and blame and success were shared equally between all team members. Through the hacking experience, the team can safely say that it was a pleasure working together. If there are opportunities that arise out of this endeavour, we’d all be available to support each other.</p>\n<p>As for the team’s experience, Achim is the best example of an engineer that intersects economics and mathematics. Achim has developed a DeFi protocol named <a href=\"https://www.1delta.io/\">1Delta.io</a> that is pushing the boundaries of what is possible with leveraged digital asset management. This experience was vital in developing and deploying CoinChoice’s Smart Contracts with production-grade security.</p>\n<p>Andre comes from a Web2 background and was therefore the perfect candidate to develop and manage server-side processes that are imperative to managing and executing meta-transactions, as well as other application data. Andrew leads <a href=\"https://www.webeleven.com.br/\">Web Eleven</a>, a Web2 agency in Brazil.</p>\n<p>Christie supported the team non-technically through deck creation, branding, content, and project management. Christie leads <a href=\"https://www.webdoodle.com.au/\">Web Doodle</a>, a Web2 agency in Australia.</p>\n<p>As for me, I have a background in solutions architecture and engineering. I direct a Web3 startup named <a href=\"https://usher.so\">Usher.so</a> where we’ve developed a partner programs platform, and are subsequently exploring new decentralised infrastructure to support such a platform. While being responsible for front-end development and solutions architecture, I managed to bring my experience coordinating a project and team to the EthDenver hackathon.</p>\n<p><strong>What opportunities do you see with MetaMask Snaps and the possibilities it unlocks for the Web3 space?</strong></p>\n<p>MetaMask is positioning itself to be among the first applications a user interacts with to engage Web3. By enabling the extensibility of the user experience, MetaMask allows developers to introduce their value proposition at an early and familiar touchpoint. This becomes more important once there is a consolidation in gateways to Web3 specifically for the next generation of Web3 users. This is analogous to the consolidation of gateways to the internet we all are already familiar with, whereby end user facing applications like Social Networks or Search Engines have become the first point of interaction for many internet users.</p>\n<p>MetaMask Snaps enables more contextual experiences. An example outcome could be a Snap that functions differently based on the dApp that the MetaMask Wallet is interacting with. By enabling developers to build upon the overlay user interface to Web3, more interesting developments can be incorporated that fundamentally change the way Web3 is interacted with. Unlike a dApp that enables a UI for a specific protocol, Snap developers can alter the way all protocols are engaged, as the innovation lives within the wallet that enables these interactions.</p>\n<p>Finally, MetaMask Snaps that aim to increase the transparency of transactions, simplify Web3 interactions, and provide additional security to end-users will fundamentally make Web3 safer and more viable for a vast number of users.</p>\n<p><strong>Any advice you would like to share with developers keen to try MetaMask Snaps?</strong></p>\n<p>Refer to raw source code that implements MetaMask Snaps to gather deeper insight into how these new capabilities function. The MetaMask Snaps team has done a great job in making public well-developed code that demonstrates MetaMask Snaps within a project. While the documentation gives an overview of the features, the source code illustrates how these features are implemented and manipulated.</p>\n<p>Reduce expectations for what is capable within the Snaps Framework during early development stages. While MetaMask Snaps will eventually enable the full extensibility of MetaMask, access to different components within the Snaps Framework will be released gradually. There’s a balancing act that MetaMask will need to consider when maximising end-user security, so some features included in early builds may be re-considered. If your solution required more access to the user’s browser context, consider referring to the CoinChoice source code to develop a Browser Extension that is triggered by an action within a MetaMask Snap.</p>\n<p><a href=\"https://discord.com/invite/consensys\">Reach out to the MetaMask team</a>. The team at MetaMask is highly engaged to deliver on extensibility and are looking for feedback and opportunities to better deliver on this value proposition.</p>\n<h3>Building with MetaMask Snaps</h3>\n<br /> \n<p>To get started with MetaMask Snaps:</p>\n<ol>\n<li>Checkout the <a href=\"https://docs.metamask.io/guide/snaps.html?utm_source=metamask&#x26;utm_medium=post&#x26;utm_campaign=2022_Sep_hackathon-winners-feature-blog-post_content_technical\">developer docs</a></li>\n<li>Install <a href=\"https://docs.metamask.io/snaps/get-started/install-flask/\">MetaMask Flask</a></li>\n<li>Check out a <a href=\"https://github.com/MetaMask/snaps-skunkworks/discussions/675\">MetaMask Snaps guide</a></li>\n<li>Stay connected with us on <a href=\"https://twitter.com/metamaskdev\">Twitter</a>, <a href=\"https://github.com/MetaMask/snaps-skunkworks/discussions\">GitHub discussions</a>, and <a href=\"https://discord.com/invite/consensys\">Discord</a></li>\n</ol>\n<p>Keep an eye out for our team at the next hackathon in an area near you! Happy BUIDLing ⚒️</p>\n<p><em>Disclaimer: MetaMask Snaps are generally developed by third parties other the ConsenSys Software.  Use of third-party-developed MetaMask Snaps is done at your own discretion and risk and with agreement that you will solely be responsible for any loss or damage that results from such activities.  ConsenSys makes no express or implied warranty, whether oral or written, regarding any third-party-developed MetaMask Snaps and disclaims all liability for third-party developed Snaps.  Use of blockchain-related software carries risks, and you assume them in full when using MetaMask Snaps.</em></p>"}},"categories":[{"contentful_id":"Jc9ZQ937JgPbuV2Xap2l7","node_locale":"ru","internal":{"type":"ContentfulNewsCategory"},"name":"Разработчики","slug":"developers"}],"metaTitle":null,"metaDescription":"CoinChoice Snap: Top Up Gas With Any Currency | An ETHDenver Hackathon Winner","canonicalUrl":null,"isPrivate":false},{"contentful_id":"2wOVvaMiIrSTczuTSjZTyJ","node_locale":"ru","internal":{"type":"ContentfulNews"},"title":"Ether Eyes Snap: Predicting Future Gas Prices","slug":"ether-eyes-snap-predicting-future-gas-prices","subtitle":"An Inter IIT Hackathon Winner","image":{"title":"feature","description":"","file":{"url":"//images.ctfassets.net/9sy2a0egs6zh/k3UtquNxPL2HHL6uovH89/f8d8be1859a5acfcb79a284167bead93/feature.png"},"gatsbyImageData":{"images":{"sources":[{"srcSet":"https://images.ctfassets.net/9sy2a0egs6zh/k3UtquNxPL2HHL6uovH89/f8d8be1859a5acfcb79a284167bead93/feature.png?w=270&h=180&q=80&fm=webp 270w,\nhttps://images.ctfassets.net/9sy2a0egs6zh/k3UtquNxPL2HHL6uovH89/f8d8be1859a5acfcb79a284167bead93/feature.png?w=540&h=360&q=80&fm=webp 540w,\nhttps://images.ctfassets.net/9sy2a0egs6zh/k3UtquNxPL2HHL6uovH89/f8d8be1859a5acfcb79a284167bead93/feature.png?w=1080&h=720&q=80&fm=webp 1080w","sizes":"(min-width: 1080px) 1080px, 100vw","type":"image/webp"}],"fallback":{"src":"https://images.ctfassets.net/9sy2a0egs6zh/k3UtquNxPL2HHL6uovH89/f8d8be1859a5acfcb79a284167bead93/feature.png?w=1080&h=720&q=80&fm=png","srcSet":"https://images.ctfassets.net/9sy2a0egs6zh/k3UtquNxPL2HHL6uovH89/f8d8be1859a5acfcb79a284167bead93/feature.png?w=270&h=180&q=80&fm=png 270w,\nhttps://images.ctfassets.net/9sy2a0egs6zh/k3UtquNxPL2HHL6uovH89/f8d8be1859a5acfcb79a284167bead93/feature.png?w=540&h=360&q=80&fm=png 540w,\nhttps://images.ctfassets.net/9sy2a0egs6zh/k3UtquNxPL2HHL6uovH89/f8d8be1859a5acfcb79a284167bead93/feature.png?w=1080&h=720&q=80&fm=png 1080w","sizes":"(min-width: 1080px) 1080px, 100vw"}},"layout":"constrained","width":1920,"height":1280}},"publishDate":"April 13, 2023","authors":[{"name":"MetaMask","createProfilePage":null,"profileUrl":"metamask"}],"content":{"childMarkdownRemark":{"html":"<p><a href=\"https://metamask.io/snaps/\">MetaMask Snaps</a> is the roadmap to making MetaMask the most extensible wallet in the world. As a developer, you can bring your features and APIs to MetaMask in totally new ways. Web3 developers are the core of this growth and this series aims to showcase the novel MetMask Snaps being built today.</p>\n<h3>Ether Eyes Snap</h3>\n<br /> \n<iframe width=\"560\" height=\"315\" src=\"https://www.youtube.com/embed/qGhvZWXrHtc\" title=\"YouTube video player\" frameborder=\"0\" allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share\" allowfullscreen></iframe>\n<br /> \n<p><strong>Snap Repo:</strong> <a href=\"https://github.com/aritroCoder/EtherEyes\">https://github.com/aritroCoder/EtherEyes</a></p>\n<p><strong>Why did you build it?</strong></p>\n<p>Gas prices on the Ethereum blockchain can be really hard to predict, and is a hindrance when it comes to making payments. A user, when trying to make payments, can end up paying much more than required. Short time high traffic on the blockchain can lead to a huge impact in gas prices. Although L2s were built to reduce gas prices, we sometimes need a more general and easier solution than using an L2 for transaction purposes. We thought it would be useful for users to have an app that can predict future gas prices based on historical data and current trends.</p>\n<p><strong>Can you walk us through the technical implementation?</strong></p>\n<p>EtherEyes consists of four parts: Gas price server, the snap, SARIMA Model, web frontend. The gas price server provides data about historical and current gas prices. The website hosts the snap and provides interface to install and interact with the snap by calling snap API methods. We used Seasonal Autoregressive Integrated Moving Average(SARIMA) model to predict gas prices.</p>\n<h4>Gas Price Server</h4>\n<br /> \n<p>We collect live gas price data as a list of around 200 candlesticks (each candlestick is an aggregate of the past 30 minutes of data) using the <a href=\"https://owlracle.info/eth\">Owlracle API</a>. This gives us the timeseries data of past 100 hours of gas prices.</p>\n<h4>The Snap</h4>\n<br /> \n<p>For the snap, we used the transaction insights API to provide realtime gas prices predictions. The flow of the snap is as follows:</p>\n<p>First, when the user starts a transaction, the transaction insights shows up in the confirmation page which is implemented using the onTransactionHandler. Here we show the user about upcoming prediction for next 30 and 60 mins. A simplified version of what we implemented is given here:</p>\n<pre><code>export const onTransaction: OnTransactionHandler = async ({ transaction }) => {\n let state: { notifToggle: boolean; urgency: number; lowEth: number };\n\n state = (await wallet.request({\n   method: 'snap_manageState',\n   params: ['get'],\n })) as { notifToggle: boolean; urgency: number; lowEth: number };\n\n if (!state) {\n   state = {\n     notifToggle,\n     urgency,\n     lowEth,\n   };\n }\n\n let insights: any = {\n   type: 'Gas Fee estimation',\n };\n\n if (\n   !isObject(transaction) ||\n   !hasProperty(transaction, 'data') ||\n   typeof transaction.data !== 'string'\n ) {\n   console.warn('unknown transaction type');\n   return { insights };\n }\n\n const response = await fetch(`${MODEL_API_ENDPOINT}`, {\n   method: 'get',\n   headers: {\n     'Content-Type': 'application/json',\n   },\n });\n\n const currentData = await fetch(CURRENT_DATA_ENDPOINT, {\n   method: 'get',\n   headers: {\n     'Content-Type': 'application/json',\n   },\n });\n\n if (!response.ok) {\n   throw new Error('API request failed');\n }\n\n const data = await response.json();\n const current = await currentData.json();\n\n state.lowEth = Math.min(data.low_30_minutes, data.low_60_minutes);\n\n await wallet.request({\n   method: 'snap_manageState',\n   params: ['update', state],\n });\n\n insights = {\n   'Average Gas Limit': `Current value: ${current.avgGas}`,\n\n   'Estimated current gas price': `Current value (Base + Priority): ${\n     current.speeds[0].baseFee + current.speeds[0].maxPriorityFeePerGas\n   } GWei; Base Fee: ${current.speeds[0].baseFee} GWei`,\n\n   'Forecasted Avg Gas price (for the next 30 mins)': `\n   Gas price within 30 minutes is expected to get as low as: ${data.low_30_minutes} GWei`,\n\n   'Forecasted Avg Gas price (for the next 60 mins)': `Gas price within 60 minutes is expected to get as low as: ${Math.min(\n     data.low_30_minutes,\n     data.low_60_minutes,\n   )} GWei`,\n\n   'Expected savings in 30 mins (For average gas limit)': `\n   ${\n     current.avgGas *\n     (current.speeds[0].baseFee +\n       current.speeds[0].maxPriorityFeePerGas -\n       data.low_30_minutes)\n   } GWei`,\n\n   'Expected savings in 60 mins (For average gas limit)': `${\n     current.avgGas *\n     (current.speeds[0].baseFee +\n       current.speeds[0].maxPriorityFeePerGas -\n       Math.min(data.low_30_minutes, data.low_60_minutes))\n   } GWei\n   `,\n };\n\n return { insights };\n};\n\n</code></pre>\n<p>If the user deciedes to wait, he can wait and start a notification system from the website that interacts with the snap via <code>onCronjob</code> handler and sends gas prices after every three minutes as native browser notifications. When the prices get very close to the prediction, it asks the user to complete the transaction.</p>\n<pre><code>\nexport const onCronjob: OnCronjobHandler = async ({ request }) => {\n switch (request.method) {\n   case 'exampleMethodOne': {\n     // get data from state whenever snap is invoked as snaps executions are ephemeral\n     let state: { notifToggle: boolean; urgency: number; lowEth: number };\n\n     state = (await wallet.request({\n       method: 'snap_manageState',\n       params: ['get'],\n     })) as { notifToggle: boolean; urgency: number; lowEth: number };\n\n     if (!state) {\n       state = {\n         notifToggle,\n         urgency,\n         lowEth,\n       };\n     }\n     notifToggle = state.notifToggle;\n     urgency = state.urgency;\n     lowEth = state.lowEth;\n\n     await wallet.request({\n       method: 'snap_manageState',\n       params: ['update', state],\n     });\n\n     console.log({ notifToggle });\n     if (notifToggle) {\n       const currentData = await fetch(CURRENT_DATA_ENDPOINT, {\n         method: 'get',\n         headers: {\n           'Content-Type': 'application/json',\n         },\n       });\n       const current = await currentData.json();\n       if (Math.abs(current.speeds[0].baseFee - lowEth) &#x3C; urgency / 38) {\n         return wallet.request({\n           method: 'snap_notify',\n           params: [\n             {\n               type: 'native',\n               message: `Gasfee is low! Pay now at ${current.speeds[0].baseFee} Gwei`,\n             },\n           ],\n         });\n       }\n       return wallet.request({\n         method: 'snap_notify',\n         params: [\n           {\n             type: 'native',\n             message: `Current gasfee is ${current.speeds[0].baseFee} Gwei`,\n           },\n         ],\n       });\n     }\n     return 0; // basically do nothing\n   }\n\n   default:\n     throw new Error('Method not found.');\n }\n};\n\n</code></pre>\n<p>The corresponding cronjob settings are (in <code>snap.manifest.json</code>):</p>\n<pre><code>\"endowment:cronjob\": {\n      \"jobs\": [\n        {\n          \"expression\": {\n            \"minute\": \"*/3\",\n            \"hour\": \"*\",\n            \"dayOfMonth\": \"*\",\n            \"month\": \"*\",\n            \"dayOfWeek\": \"*\"\n          },\n          \"request\": {\n            \"method\": \"exampleMethodOne\",\n            \"params\": {}\n          }\n        }\n      ]\n    }\n</code></pre>\n<p>There is also an urgency feature that sets the urgency of the transaction (technically, the parameter that determines what should be the maximum difference between prediction and current gas prices so that the user should go on with the transaction). Changing the urgency varies this threshold. We implemented urgency setting using snap’s <code>onRpcRequest</code> method.</p>\n<pre><code>\n export const onRpcRequest: OnRpcRequestHandler = async ({\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  origin,\n  request,\n}) => {\n  switch (request.method) {\n    // Other RPC methods here\n    case 'set_urgency_35': {\n      urgency = 35;\n\n      let state: { notifToggle: boolean; urgency: number; lowEth: number };\n\n      state = (await wallet.request({\n        method: 'snap_manageState',\n        params: ['get'],\n      })) as { notifToggle: boolean; urgency: number; lowEth: number };\n\n      if (!state) {\n        state = {\n          notifToggle,\n          urgency: 35,\n          lowEth,\n        };\n      }\n      state.urgency = 35;\n\n      await wallet.request({\n        method: 'snap_manageState',\n        params: ['update', state],\n      });\n\n      return urgency;\n    }\n\n    case 'set_urgency_60': {\n      urgency = 60;\n\n      let state: { notifToggle: boolean; urgency: number; lowEth: number };\n\n      state = (await wallet.request({\n        method: 'snap_manageState',\n        params: ['get'],\n      })) as { notifToggle: boolean; urgency: number; lowEth: number };\n\n      if (!state) {\n        state = {\n          notifToggle,\n          urgency: 60,\n          lowEth,\n        };\n      }\n      state.urgency = 60;\n\n      await wallet.request({\n        method: 'snap_manageState',\n        params: ['update', state],\n      });\n\n      return urgency;\n    }\n\n    case 'set_urgency_90': {\n      urgency = 90;\n\n      let state: { notifToggle: boolean; urgency: number; lowEth: number };\n\n      state = (await wallet.request({\n        method: 'snap_manageState',\n        params: ['get'],\n      })) as { notifToggle: boolean; urgency: number; lowEth: number };\n\n      if (!state) {\n        state = {\n          notifToggle,\n          urgency: 90,\n          lowEth,\n        };\n      }\n      state.urgency = 90;\n\n      await wallet.request({\n        method: 'snap_manageState',\n        params: ['update', state],\n      });\n\n      return urgency;\n    }\n\n    case 'set_urgency_100': {\n      urgency = 100;\n\n      let state: { notifToggle: boolean; urgency: number; lowEth: number };\n\n      state = (await wallet.request({\n        method: 'snap_manageState',\n        params: ['get'],\n      })) as { notifToggle: boolean; urgency: number; lowEth: number };\n\n      if (!state) {\n        state = {\n          notifToggle,\n          urgency: 100,\n          lowEth,\n        };\n      }\n      state.urgency = 100;\n\n      await wallet.request({\n        method: 'snap_manageState',\n        params: ['update', state],\n      });\n\n      return urgency;\n    }\n\n    case 'call_api': {\n      // get data from state whenever snap is invoked as snaps executions are ephemeral\n      let state: { notifToggle: boolean; urgency: number; lowEth: number };\n\n      state = (await wallet.request({\n        method: 'snap_manageState',\n        params: ['get'],\n      })) as { notifToggle: boolean; urgency: number; lowEth: number };\n\n      if (!state) {\n        state = {\n          notifToggle,\n          urgency,\n          lowEth,\n        };\n      }\n\n      notifToggle = state.notifToggle;\n      urgency = state.urgency;\n      lowEth = state.lowEth;\n\n      await wallet.request({\n        method: 'snap_manageState',\n        params: ['update', state],\n      });\n\n      console.log(\n        `Called inside custom api call: notifToggle = ${notifToggle} and urgency = ${urgency}`,\n      );\n      const currentData = await fetch(CURRENT_DATA_ENDPOINT, {\n        method: 'get',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n      });\n      const current = await currentData.json();\n      if (Math.abs(current.speeds[0].baseFee - lowEth) &#x3C; urgency / 38) {\n        return wallet.request({\n          method: 'snap_notify',\n          params: [\n            {\n              type: 'native',\n              message: `Gasfee is low! Pay now at ${current.speeds[0].baseFee} Gwei`,\n            },\n          ],\n        });\n      }\n      return wallet.request({\n        method: 'snap_notify',\n        params: [\n          {\n            type: 'native',\n            message: `Current gasfee is ${current.speeds[0].baseFee} Gwei`,\n          },\n        ],\n      });\n    }\n\n    default: {\n      throw new Error('Method not found.');\n    }\n  }\n};\n\n</code></pre>\n<p>To calculate threshhold, we divided the urgency setting by <code>38</code> .After empirical testing with different values, <code>38</code> seemed to work best in most situations. There is a plan to fine tune and enhance this in the near future for more dynamic performance.</p>\n<pre><code>if (Math.abs(current.speeds[0].baseFee - lowEth) &#x3C; urgency / 38) {\n          return wallet.request({\n            method: 'snap_notify',\n            params: [\n              {\n                type: 'native',\n                message: `Gasfee is low! Pay now at ${current.speeds[0].baseFee} Gwei`,\n              },\n            ],\n          });\n        }\n</code></pre>\n<p>As snap states are ephemeral, we needed to store state information (like notification on/off, urgency set by user) into storage using the snap storage API.</p>\n<pre><code>\nexport const onRpcRequest: OnRpcRequestHandler = async ({\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  origin,\n  request,\n}) => {\n  switch (request.method) {\n    case 'notif_toggle_true': {\n      console.log('Notification toggled to true');\n      notifToggle = true; // toggle the notification\n      console.log({ notifToggle });\n\n      let state: { notifToggle: boolean; urgency: number; lowEth: number };\n\n      state = (await wallet.request({\n        method: 'snap_manageState',\n        params: ['get'],\n      })) as { notifToggle: boolean; urgency: number; lowEth: number };\n\n      if (!state) {\n        state = {\n          notifToggle: true,\n          urgency,\n          lowEth,\n        };\n      }\n      state.notifToggle = true;\n\n      await wallet.request({\n        method: 'snap_manageState',\n        params: ['update', state],\n      });\n\n      return notifToggle;\n    }\n\n    case 'notif_toggle_false': {\n      console.log('Notification toggled to false');\n      notifToggle = false; // toggle the notification\n      console.log({ notifToggle });\n\n      let state: { notifToggle: boolean; urgency: number; lowEth: number };\n\n      state = (await wallet.request({\n        method: 'snap_manageState',\n        params: ['get'],\n      })) as { notifToggle: boolean; urgency: number; lowEth: number };\n\n      if (!state) {\n        state = {\n          notifToggle: false,\n          urgency,\n          lowEth,\n        };\n      }\n      state.notifToggle = false;\n\n      await wallet.request({\n        method: 'snap_manageState',\n        params: ['update', state],\n      });\n\n      return notifToggle;\n    }\n\n     default: {\n      throw new Error('Method not found.');\n    }\n  }\n}; \n\n</code></pre>\n<h4>The Model</h4>\n<br /> \n<p>We then use a popular time series forecasting model called SARIMA or Seasonal ARIMA from the <a href=\"https://nixtla.github.io/statsforecast/\" target=\"_blank\">statsforecast</a> package on the timeseries data to predict the lowest gas price expected in the next hour.</p>\n<pre><code>\nfrom fastapi import FastAPI\nfrom fastapi.middleware.cors import CORSMiddleware\nimport requests\nimport numpy as np\nfrom statsforecast.models import AutoARIMA\nimport json\n\ndef get_timeseries():\n    with open('key.json') as f:\n        data = json.load(f)\n        print(data)\n\n    key = data['key']\n\n    history_data = requests.get(\n        'https://api.owlracle.info/v3/eth/history?apikey={}&#x26;candles=100&#x26;txfee=true'\n        .format(key))\n    history_data = history_data.json()\n\n    low = []\n\n    for obj in history_data:\n        low.append(obj['gasPrice']['low'])\n\n    low.reverse()\n\n    return np.array(low)\n\ndef get_prediction():\n    values = get_timeseries()\n    model = AutoARIMA()\n    predictions = model.forecast(values, 2)\n    print(\"Pred: \", predictions)\n    prediction_json = {\n        'low_30_minutes': predictions['mean'][0],\n        'low_60_minutes': predictions['mean'][1]\n    }\n\n    return prediction_json\n\napp = FastAPI()\n\norigins = [\n    \"*\",\n]\n\napp.add_middleware(\n    CORSMiddleware,\n    allow_origins=origins,\n    allow_credentials=True,\n    allow_methods=[\"*\"],\n    allow_headers=[\"*\"],\n)\n\n@app.get(\"/\")\nasync def root():\n    pred = get_prediction()\n\n    return pred\n\n</code></pre>\n<h4>Why SARIMA?</h4>\n<br /> \n<ul>\n<li>A lot of literature on SARIMA for time-series forecasting in varying domains stated that the performance of SARIMA is good. We also referred to a study on ethereum gas price statistics, where they used SARIMA and obtained promising results.</li>\n<li>An alternative would be deep learning techniques which usually involve larger models which also take more time to re-train hence making it less ideal for streaming data.</li>\n<li>Some literatures we reffered:\n<ul>\n<li>\n<p>A hybrid SARIMA and support vector machines in forecasting the production values of the machinery industry in Taiwan. Expert Systems with Applications, 32(1), 254-264. <a href=\"https://doi.org/10.1016/j.eswa.2005.11.027\">https://doi.org/10.1016/j.eswa.2005.11.027</a></p>\n</li>\n<li>\n<p>Dynamic linear model and SARIMA: a comparison of their forecasting performance in epidemiology. <a href=\"https://doi.org/10.1002/sim.963\">https://doi.org/10.1002/sim.963</a></p>\n</li>\n<li>\n<p>Long-term runoff study using SARIMA and ARIMA models in the United States. <a href=\"https://doi.org/10.1002/met.1491\">https://doi.org/10.1002/met.1491</a></p>\n</li>\n<li>\n<p>Carl, David and Ewerhart, Christian, Ethereum Gas Price Statistics (December 22, 2020). University of Zurich, Department of Economics, Working Paper No. 373, 2020, Available at: <a href=\"https://dx.doi.org/10.2139/ssrn.3754217\">https://dx.doi.org/10.2139/ssrn.3754217</a></p>\n</li>\n</ul>\n</li>\n</ul>\n<h4>Web Frontend</h4>\n<br /> \n<p>We used a simple React app as our web frontend interface. It contains the buttons for snap install, sending a dummy transaction, setting user urgency, toggling gas-price notifications and dark mode toggler. Its very simple and easy to use for any user.</p>\n<p><img src=\"//images.ctfassets.net/9sy2a0egs6zh/51ui2N0kbPdYtnyuR51A6w/fc514adb21d3f8b07dae9e25607bf44f/HAmiesP.png\" alt=\"HAmiesP\"></p>\n<p><strong>What are the next steps if you want to implement this?</strong></p>\n<p>There is a lot that can be done, we can start by making the model more reliable by tweaking the learning algorithm to make more robust predictions. Another area to improve is the urgency threshold where we need to come up with a more dynamic expression to handle wide variations of market profile, user urgency and transaction gas savings at the same time and quickly arrive at an almost optimal point where the user should make payment. Also we need to make the web interface a bit more user friendly and add some overall error handling at some corner cases which can occur rarely.</p>\n<p><strong>Can you tell us a little bit about yourself and your team?</strong></p>\n<p>We are a team consisting of eight BTech engineering students at IIT Patna. We formed the team to participate in Inter IIT Tech meet 11 (2023) where ConsenSys came up with a MetaMask Snaps problem statement.</p>\n<p><img src=\"//images.ctfassets.net/9sy2a0egs6zh/yS9emPKweCUgTYHyOKlvB/f1861e7c236a340498231927f5b1b4b6/Screenshot_2023-04-13_at_2.42.43_PM.png\" alt=\"Screenshot 2023-04-13 at 2.42.43 PM\"></p>\n<ul>\n<li><strong>Vaishakh</strong>: I am a final year Computer Science student at IIT Patna and I love my field of study. Lately, I've been participating in hackathons and I am thoroughly enjoying the experience. I can't wait to explore more of the vast possibilities in Computer Science and see where it takes me in the future.</li>\n<li><strong>Aritra B</strong>. : Aritra is a Btech sophomore at AI and Data Science at Indian Institute of Technology, Patna and passionate about Blockchain and its applications in real world mass implementation. He has worked in a number of small blockchain projects before, which made the foundations for learning and exploring this domain. He is aimed at creating smart blockchain solutions using other domains of computer sciences like machine learning to create new innovations. He has been selected a KVPY fellow by the prestigious Indian Instiute of Science(IISC) in 2019 and is currently learning about ZK EVMs and it’s unique areas of implementations in this space.</li>\n<li><strong>Padmaksh</strong>: Pursuing BTech in Computer science and engineering at Indian institute of technology Patna and has a keen interest in cyber security. He's also very much interested in problem solving and algorithmic puzzles. He's further studying blockchain architecture and exploring other fields.</li>\n<li><strong>Kartikay</strong>: Undergrad at IIT Patna pursuing B.Tech in Mechanical Engineering currently in his 3rd year of course curriculum. He has a keen interest in web development and competitive programming. He has designed and developed multiple websites for many college clubs and fests. He has basic knowledge in Data Science and Web3.</li>\n<li><strong>Harsh</strong>: I am a sophomore year undergrad at IIT Patna pursuing Chemical Engineering. I am mostly into case studies and problem solving.</li>\n<li>Dhushyanth: I am a final year Electrical Engineering student at IIT Patna, highly enthusiastic about technology and development. I’ve dabbled in a variety of fields like CRDT server implementation in rust to designing Perceptrons in Silicon Photonics. I like to have heated conversations about anything I can give my two cents about and thoroughly enjoy it!</li>\n<li><strong>Vishwas S</strong>: Vishwas is first year Computer Science student at IIT Patna who is passionate about his field of study and looking for opportunities to explore. Lately, he has developed a keen interest towards blockchain technology and working in it.</li>\n<li><strong>Ankur</strong>: I'm a sophomore undergrad at IIT Patna pursuing Electrical and Electronics Engineering. I recently developed a few websites for IIT Patna and enjoy problem solving. Lately I have been enjoying UI and UX with a knack for frontend. I like to studying human psychology and working towards building solutions to various problems</li>\n</ul>\n<p><strong>When were you first introduced to MetaMask Snaps and what was your experience like?</strong></p>\n<p>We got introduced to MetaMask Snaps first at Inter IIT Tech meet 2023. It’s a really unique and interesting add on to MetaMask, and can be used to bring endless customizations in the wallet. The development process is also pretty straightforward and we did not face any major setbacks while developing even though there was less documentation and discussion forum content available. Although it is still in development and lacks few important features as of now,  we can already see the great potential it can have in upcoming years.</p>\n<p><strong>What makes MetaMask Snaps different from other wallets?</strong></p>\n<p>MetaMask Snaps is similar to an extension in a web browser. It is used to extend the functionalities of MetaMask. It is safe as the snaps are run in an isolated environment where they have access to a limited set of capabilities determined by the permissions granted by the user during installation. It is a great and safe way to customize your wallet experience.</p>\n<p><strong>Tell us about what building MetaMask Snaps is like for you and your team?</strong></p>\n<p>It’s one of the projects that allowed us to witness how different computer science fields could work together to solve a challenge. For my team and I, building this snap was a fantastic learning opportunity. We gained knowledge on how to implement our idea effectively as well as how to use machine learning to solve a problem on blockchain. Along the way, we also established a few new connections. On the other side, rest wallets feel quite restrictive for developers.</p>\n<p><strong>What does MetaMask Snaps mean to you?</strong></p>\n<p>Metamask Snaps add the features of extensions to a crypto wallet. It is really innovative and can be used for many critical use cases to improve mass adoption of cryptocurrency.</p>\n<p><strong>What opportunities do you see with MetaMask Snaps and the possibilities it unlocks for the Web3 space?</strong></p>\n<p>Metamask Snaps can really be a breakthrough in the web3 ecosystem as it transforms a simple Ethereum wallet to an entire web3 management tool where we can customize and enhance our web3 experience.</p>\n<p><strong>Any advice you would like to share with developers keen to try MetaMask Snaps?</strong>\nStart reading the <a href=\"https://docs.metamask.io/guide/snaps.html\">documentation</a>. It is highly explanatory and can explain most of the use cases one can have. For any issue whose solution is not apparent, we would suggest asking them in the <a href=\"https://discord.com/invite/consensys\">ConsenSys discord</a> where there is a forum dedicated for this purpose.</p>\n<h3>Building with MetaMask Snaps</h3>\n<br /> \n<p>To get started with MetaMask Snaps:</p>\n<ol>\n<li>Checkout the <a href=\"https://docs.metamask.io/guide/snaps.html?utm_source=metamask&#x26;utm_medium=post&#x26;utm_campaign=2022_Sep_hackathon-winners-feature-blog-post_content_technical\">developer docs</a></li>\n<li>Install <a href=\"https://docs.metamask.io/snaps/get-started/install-flask/\">MetaMask Flask</a></li>\n<li>Check out a <a href=\"https://github.com/MetaMask/snaps-skunkworks/discussions/675\">MetaMask Snaps guide</a></li>\n<li>Stay connected with us on <a href=\"https://twitter.com/metamaskdev\">Twitter</a>, <a href=\"https://github.com/MetaMask/snaps-skunkworks/discussions\">GitHub discussions</a>, and <a href=\"https://discord.com/invite/consensys\">Discord</a></li>\n</ol>\n<p>Keep an eye out for our team at the next hackathon in an area near you! Happy BUIDLing ⚒️</p>\n<p><em>Disclaimer: MetaMask Snaps are generally developed by third parties other the ConsenSys Software.  Use of third-party-developed MetaMask Snaps is done at your own discretion and risk and with agreement that you will solely be responsible for any loss or damage that results from such activities.  ConsenSys makes no express or implied warranty, whether oral or written, regarding any third-party-developed MetaMask Snaps and disclaims all liability for third-party developed Snaps.  Use of blockchain-related software carries risks, and you assume them in full when using MetaMask Snaps.</em></p>"}},"categories":[{"contentful_id":"Jc9ZQ937JgPbuV2Xap2l7","node_locale":"ru","internal":{"type":"ContentfulNewsCategory"},"name":"Разработчики","slug":"developers"}],"metaTitle":null,"metaDescription":null,"canonicalUrl":null,"isPrivate":false},{"contentful_id":"1UWyzFIE4KVNKf2BfoWkSb","node_locale":"ru","internal":{"type":"ContentfulNews"},"title":"MetaMask Grants DAO funds Spritely Foundation","slug":"metamask-grants-dao-funds-spritely-foundation","subtitle":"Funding a new model for the internet prioritizing security and collaboration.","image":{"title":"spritely","description":"","file":{"url":"//images.ctfassets.net/9sy2a0egs6zh/4aNuxgS5NGuiqvloCR3nhQ/39f2ae71bcf5a3f7cf8da857a3d5af14/spritely.png"},"gatsbyImageData":{"images":{"sources":[{"srcSet":"https://images.ctfassets.net/9sy2a0egs6zh/4aNuxgS5NGuiqvloCR3nhQ/39f2ae71bcf5a3f7cf8da857a3d5af14/spritely.png?w=270&h=180&q=80&fm=webp 270w,\nhttps://images.ctfassets.net/9sy2a0egs6zh/4aNuxgS5NGuiqvloCR3nhQ/39f2ae71bcf5a3f7cf8da857a3d5af14/spritely.png?w=540&h=360&q=80&fm=webp 540w,\nhttps://images.ctfassets.net/9sy2a0egs6zh/4aNuxgS5NGuiqvloCR3nhQ/39f2ae71bcf5a3f7cf8da857a3d5af14/spritely.png?w=1080&h=720&q=80&fm=webp 1080w","sizes":"(min-width: 1080px) 1080px, 100vw","type":"image/webp"}],"fallback":{"src":"https://images.ctfassets.net/9sy2a0egs6zh/4aNuxgS5NGuiqvloCR3nhQ/39f2ae71bcf5a3f7cf8da857a3d5af14/spritely.png?w=1080&h=720&q=80&fm=png","srcSet":"https://images.ctfassets.net/9sy2a0egs6zh/4aNuxgS5NGuiqvloCR3nhQ/39f2ae71bcf5a3f7cf8da857a3d5af14/spritely.png?w=270&h=180&q=80&fm=png 270w,\nhttps://images.ctfassets.net/9sy2a0egs6zh/4aNuxgS5NGuiqvloCR3nhQ/39f2ae71bcf5a3f7cf8da857a3d5af14/spritely.png?w=540&h=360&q=80&fm=png 540w,\nhttps://images.ctfassets.net/9sy2a0egs6zh/4aNuxgS5NGuiqvloCR3nhQ/39f2ae71bcf5a3f7cf8da857a3d5af14/spritely.png?w=1080&h=720&q=80&fm=png 1080w","sizes":"(min-width: 1080px) 1080px, 100vw"}},"layout":"constrained","width":1920,"height":1280}},"publishDate":"February 6, 2023","authors":[{"name":"MetaMask","createProfilePage":null,"profileUrl":"metamask"}],"content":{"childMarkdownRemark":{"html":"<p>With 2023 full-steam ahead, we’re excited to announce our grant to the Spritely Foundation.</p>\n<p>As a reminder, MetaMask Grants DAO was formed to support the developer community in building out impactful experiences within the MetaMask ecosystem. You can learn more about the employee-funded DAO and how to apply for a grant <a href=\"https://metamaskgrants.org/\">here</a>.</p>\n<h3>Spritely: Re-Architecting Communication on the Internet</h3>\n<br /> \n<p><a href=\"https://spritely.institute/\">Spritely</a> is a new model for the internet that aims to be both secure and collaborative, and is focused on secure social networking. The project is led by some very talented individuals, including Christine Lemmer-Webber and F. Randall (\"Randy\") Farmer. Christine is known as a creator of the ActivityPub protocol (perhaps the most widely used decentralized social network protocol today), and Randy has been working on secure distributed applications since he helped build the first MMO (Lucasfilm’s Habitat).</p>\n<p>Spritely <a href=\"https://spritely.institute/static/papers/spritely-core.html\">builds the foundation</a> for a maximally <a href=\"https://metamask.io/news/security/meta-mask-and-laconic-launch-moby-mask-light-client/\">phishing-proof</a> permissionless social network, where interactions are always rooted in consent and social introductions, making it harder for phishers to impersonate people, and easier for people to establish credibility and context-preserving social environments. We believe this is an ambitious and critical piece of infrastructure for allowing a safe permissionless web.</p>\n<p>A Spritely application is not built on blockchains itself, but can interoperate with blockchains as needed for multi-party assurances. By default, users create their own programs, functions, and content and simply share access with each other over the network. Intermediary servers can provide replication, but they can always be routed around and are not necessary.</p>\n<p>Since Spritely applications do not require financial buy-in the way blockchains do, it’s much friendlier to new user adoption, while still allowing a type of permissionless application to be built where it’s rooted in a user’s own sense of trust and safety. Their capability-security approach to permissionless computing makes a lot of sense to us at MetaMask, and we think tools like it can enable exciting kinds of applications.</p>\n<p>As it is a true distributed <a href=\"https://twitter.com/danfinlay/status/1560751433355407360\">object capability (ocap) system</a>, the security model goes all the way down to the syntax of the language, <a href=\"http://mumble.net/~jar/pubs/secureos/secureos.html\">which is chosen</a> to ensure it’s as easy as possible to extend programs in a safe way.</p>\n<p>This is similar to <a href=\"https://metamask.io/news/developers/meta-mask-grants-dao-funds-agoric-and-safeheron-with-first-round-of-grants/\">Agoric’s</a> HardenedJS, which underpins the <a href=\"https://metamask.io/snaps/\">MetaMask Snaps</a> system, which makes JavaScript secure through the ses-shim and the TC-39 standards process, and was <a href=\"https://metamask.io/news/developers/meta-mask-grants-dao-funds-agoric-and-safeheron-with-first-round-of-grants/\">a recent MetaMask grant recipient</a>. While Agoric is oriented at making secure distributed programming maximally accessible to JavaScript programmers via the <a href=\"https://github.com/endojs\">Endo</a> project, Spritely has chosen the <a href=\"https://en.wikipedia.org/wiki/Scheme_(programming_language)\">Scheme language</a> (a Lisp dialect) which is less common but is more simple and flexible, and allows more open-ended experimentation and iteration for the platform. The two aspire to interoperate over a protocol called <a href=\"https://spritelyproject.org/news/what-is-captp.html\">CapTP</a>, in a joint project through the <a href=\"https://github.com/ocapn/ocapn\">OCapN group</a>.</p>\n<h3>Secure and Collaborative Internet Systems</h3>\n<br /> \n<p>The grant of $250k in USDC will primarily be used to port the <a href=\"https://www.gnu.org/software/guile/\">Guile</a> runtime for Scheme to <a href=\"https://developer.mozilla.org/en-US/docs/WebAssembly\">WebAssembly</a>. Guile is the Scheme environment that Spritely is built on, so this will allow the Spritely platform to be run anywhere that WebAssembly is available, like a browser, like within MetaMask. This will allow developers to use the Spritely framework to build decentralized applications that run in the browser and can be accessed by users via MetaMask or any other tool that supports WASM.</p>\n<p>With the help of this grant, the Spritely community is confident that it will be able to make a significant impact in the world of secure and collaborative internet systems and MetaMask is proud to support this effort. You can learn more about the Spritely system in their document <a href=\"https://spritely.institute/static/papers/spritely-core.html\"><em>The Heart of Spritely.</em></a></p>\n<hr />\n<p>If you’re a developer, take a look at our Snaps wish list <a href=\"https://metamaskgrants.org/request-for-proposals\">here</a> and apply for a grant to build out a thriving ecosystem with us.</p>\n<p><em>We can’t guarantee when we will review your request or that it will get approved, but know that our team will review the application pipeline as often as we can. Thanks for being patient with us.</em></p>"}},"categories":[{"contentful_id":"Jc9ZQ937JgPbuV2Xap2l7","node_locale":"ru","internal":{"type":"ContentfulNewsCategory"},"name":"Разработчики","slug":"developers"}],"metaTitle":null,"metaDescription":null,"canonicalUrl":null,"isPrivate":false},{"contentful_id":"5z1CnyEga82V0qwWctslcg","node_locale":"ru","internal":{"type":"ContentfulNews"},"title":"AA Snap: Democratizing Account Abstraction ","slug":"aa-snap-democratizing-account-abstraction","subtitle":"An ETHIndia Hackathon Winner","image":{"title":"feature","description":"","file":{"url":"//images.ctfassets.net/9sy2a0egs6zh/4pxsPLzRcSagJHBAQArCCw/5e1036be06ac396fa8b042df0930f814/feature.png"},"gatsbyImageData":{"images":{"sources":[{"srcSet":"https://images.ctfassets.net/9sy2a0egs6zh/4pxsPLzRcSagJHBAQArCCw/5e1036be06ac396fa8b042df0930f814/feature.png?w=270&h=180&q=80&fm=webp 270w,\nhttps://images.ctfassets.net/9sy2a0egs6zh/4pxsPLzRcSagJHBAQArCCw/5e1036be06ac396fa8b042df0930f814/feature.png?w=540&h=360&q=80&fm=webp 540w,\nhttps://images.ctfassets.net/9sy2a0egs6zh/4pxsPLzRcSagJHBAQArCCw/5e1036be06ac396fa8b042df0930f814/feature.png?w=1080&h=720&q=80&fm=webp 1080w","sizes":"(min-width: 1080px) 1080px, 100vw","type":"image/webp"}],"fallback":{"src":"https://images.ctfassets.net/9sy2a0egs6zh/4pxsPLzRcSagJHBAQArCCw/5e1036be06ac396fa8b042df0930f814/feature.png?w=1080&h=720&q=80&fm=png","srcSet":"https://images.ctfassets.net/9sy2a0egs6zh/4pxsPLzRcSagJHBAQArCCw/5e1036be06ac396fa8b042df0930f814/feature.png?w=270&h=180&q=80&fm=png 270w,\nhttps://images.ctfassets.net/9sy2a0egs6zh/4pxsPLzRcSagJHBAQArCCw/5e1036be06ac396fa8b042df0930f814/feature.png?w=540&h=360&q=80&fm=png 540w,\nhttps://images.ctfassets.net/9sy2a0egs6zh/4pxsPLzRcSagJHBAQArCCw/5e1036be06ac396fa8b042df0930f814/feature.png?w=1080&h=720&q=80&fm=png 1080w","sizes":"(min-width: 1080px) 1080px, 100vw"}},"layout":"constrained","width":1920,"height":1280}},"publishDate":"January 23, 2023","authors":[{"name":"MetaMask","createProfilePage":null,"profileUrl":"metamask"}],"content":{"childMarkdownRemark":{"html":"<p><a href=\"https://metamask.io/snaps/\">MetaMask Snaps</a> is the roadmap to making MetaMask the most extensible wallet in the world. As a developer, you can bring your features and APIs to MetaMask in totally new ways. Web3 developers are the core of this growth and this series aims to showcase the novel MetMask Snaps being built today.</p>\n<h3>AA Snap</h3>\n<iframe width=\"560\" height=\"315\" src=\"https://www.youtube.com/embed/bEmdsDj-DSQ\" title=\"YouTube video player\" frameborder=\"0\" allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share\" allowfullscreen></iframe>\n<p>Snap Repo: <a href=\"https://github.com/a42io/AAsnap\">https://github.com/a42io/AAsnap</a></p>\n<p><strong>Why did you build it?</strong></p>\n<p>AA Snap is built for democratizing Account Abstraction (AA) for all developers and users. We believe AA will be widely used in the future. However, currently, it takes work for devs to integrate it with their dapps and for users to use it.</p>\n<p>From devs' perspective, it's necessary to write additional code that supports AA in addition to EOA.</p>\n<p>From users' point of view, they cannot use their usual wallets, such as MetaMask, and need to install another wallet that supports AA, which is a bad UX.</p>\n<p>Therefore, we wanted to make it easy to integrate and use AA by utilizing MetaMask Snaps.</p>\n<p><strong>Can you walk us through the technical implementation?</strong></p>\n<p>AA Snap is composed of three components: an example frontend, the MetaMask snap, and a temporary server. The snap enables devs and users to use an AA wallet (a contract wallet that supports EIP-4337) very easily. Please see the <a href=\"https://github.com/a42io/AAsnap\">repository</a> for the full implementation.</p>\n<h4>The example frontend</h4>\n<p>The example frontend is based on the <a href=\"https://github.com/MetaMask/template-snap-monorepo\">template</a> that is provided by MetaMask. It shows developers can easily integrate AA with their dapps by AA Snap.</p>\n<p>For example, a balance of the AA wallet can be fetched with the simple code below.</p>\n<pre><code>const balance = (await window.ethereum.request({\n    method: 'wallet_invokeSnap',\n    params: [\n        defaultSnapOrigin,\n        {\n            method: 'balance',\n        },\n    ],\n})) as string;\n</code></pre>\n<p>To send a transaction from the AA wallet, you can just write the code below by passing a beneficiary address and value.</p>\n<pre><code>await window.ethereum.request({\n    method: 'wallet_invokeSnap',\n    params: [\n        defaultSnapOrigin,\n        {\n            method: 'transfer',\n            params: {\n                to,        // beneficiary address\n                value,     // value in ETH or MATIC\n            },\n        },\n    ],\n});\n</code></pre>\n<p>How easy is it to use the AA wallet from the user’s perspective? Try it here: <a href=\"https://AAsn.app\">https://AAsn.app</a></p>\n<h4>The Snap</h4>\n<p>The snap gets an instance of AA with the code below. To implement AA, we used the <a href=\"https://www.npmjs.com/package/@account-abstraction/sdk\">@account-abstraction/sdk npm package</a>.</p>\n<p>Since the AA wallet address can be deterministically derived from the user’s EOA, no user input is required.</p>\n<pre><code>export const getAbstractAccount = async (): Promise&#x3C;SimpleAccountAPI> => {\n    const provider = new ethers.providers.Web3Provider(wallet as any);\n    await provider.send('eth_requestAccounts', []);\n    const owner = provider.getSigner();\n    const aa = new SimpleAccountAPI({\n        provider,\n        entryPointAddress,\n        owner,\n        factoryAddress,\n    });\n    return aa;\n};\n</code></pre>\n<p>There are three steps to send a transaction from the AA wallet:</p>\n<ol>\n<li>The snap shows a confirmation within the MetaMask using the snap’s snap_confirm method. This process is not required but is needed for better UX because there’s no way for users to know the details of what they will sign.</li>\n<li>The code creates a user operation of the AA wallet and requests to sign a hash of the user operation. This process is almost the same as creating a tx from EOA and signing it.</li>\n<li>Send the signed user operation to a bundler via our server.</li>\n</ol>\n<pre><code>export const transfer = async (target: string, ethValue: string) => {\n    const value = ethers.utils.parseEther(ethValue);\n    const aa = await getAbstractAccount();\n    const address = await aa.getAccountAddress();\n\n    // 1. Show confirmation within MetaMask\n    const result = await wallet.request({\n        method: 'snap_confirm',\n        params: [{\n            prompt: 'Transfer',\n            description: 'Transfer from your Abstraction Account',\n            textAreaContent: `from: ${address}\\ntarget: ${target}\\nvalue: ${ethValue}`,\n        }],\n    });\n\n    if (!result) {\n        return;\n    }\n\n    // 2. Create a signed user operation of AA wallet\n    const op = await aa.createSignedUserOp({\n        target,\n        value,\n        data: '0x',\n        maxFeePerGas,\n        maxPriorityFeePerGas,\n    });\n\n    const printedOp = await printOp(op);\n    const body = JSON.stringify({\n        op: printedOp,\n    });\n\n    // 3. Send a signed user operation to the bundler\n    const response = await fetch(SERVER_END_POINT {\n        method: 'POST',\n        headers: {\n            'Content-Type': 'application/json',\n        },\n        body,\n    });\n};\n</code></pre>\n<h4>The temporary server</h4>\n<p>During the hackathon, we encountered an error when calling the <code>sendUserOpToBundler</code> method inside the snap. Since we didn’t have time to dig into the issue, we decided to create a server to solve the problem temporarily. The temporary server just receives the signed user operation and passes it to a bundler.</p>\n<p>Because of the error probably came from dependencies because there are some restrictions in the MetaMask Snaps execution environment. We think the temporary server can be removed by following this document: <a href=\"https://docs.metamask.io/guide/snaps-patching-dependencies.html\">Patching Dependencies</a></p>\n<pre><code>app.post('/aa', async (req, res) => {\n  const provider = new ethers.providers.JsonRpcProvider(\n    process.env.RPC_ENDPOINT,\n  );\n  const client = await getHttpRpcClient(\n    provider,\n    process.env.BUNDLER_URL as string,\n    process.env.ENTRY_POINT_ADDRESS as string,\n  );\n\n  try {\n    const uoHash = await client.sendUserOpToBundler(JSON.parse(req.body.op));\n    return res.json({\n      uoHash,\n    });\n  } catch (e) {\n    console.log(e);\n    return res.status(400).send();\n  }\n});\n</code></pre>\n<p><strong>What are the next steps if you would implement this?</strong></p>\n<p>We would like to remove unnecessary server-side code and run the snap alone. Also, currently, it is possible for the MetaMask Snaps developer like us to replace a transaction hash to be signed with a malicious one, so we would like to introduce or propose a mechanism to prevent it.</p>\n<p><strong>Can you tell us a little bit about yourself and your team?</strong></p>\n<p><img src=\"//images.ctfassets.net/9sy2a0egs6zh/6NyWZg6g6mQ2LZ67I9ymt/69d01787c27650246d303960f217022c/Screenshot_2023-01-23_at_3.12.35_PM.png?q=80&#x26;fm=webp\" alt=\"team \"></p>\n<p>Our team is running a small startup - a42 - in Japan and Singapore. a42 is building a Web3 smart lock \"wΞlock\" that enables auth with smart contracts including NFT and ENS: <a href=\"https://scrapbox.io/a42/w%CE%9Elock\">https://a42.io/w3lock</a>\nIn 2022, we attended several hackathons to learn new technologies like MetaMask Snaps.</p>\n<p><a href=\"https://twitter.com/hm0429\">Hideyoshi Moriya</a> (piyo.eth): Hideyoshi has been experimenting and building Ethereum based apps since 2017. He developed a collaborative NFT art project \"Pixereum\" in 2017. He worked at Google as a technical product specialist and started his company \"a42\" in 2019. In a42, he develops dapps that can work in the real world. He is currently developing a Web3 smart lock \"wΞlock\" that can be opened by ENS/NFT based on the PoC he developed in 2021: <a href=\"https://twitter.com/hm0429/status/1465241679800111107\">https://twitter.com/hm0429/status/1465241679800111107</a></p>\n<p><a href=\"https://twitter.com/7pastelblackcat\">Hiroyuki Tachibana</a> (tachibana.eth): Hiroyuki is a co-founder and engineer at a42. He led a project to build a blockchain auth module for IoT devices \"w3a.io\" and received a grant from Ethereum Foundation. He received several prizes at ETHGlobal hackathons through 2022. He is currently developing a zkp privacy solution for the Web3 smart lock product.</p>\n<p><a href=\"https://twitter.com/yskmksy\">Yusuke Moriya</a> (yskmyskm.eth): Yusuke is a designer at a42. He worked as CG / VFX artist in various video productions and was involved in global brands to small-scale music videos. He has 12 years of experience in the film industry and specializes in abstract expressions using computer graphics. He has also worked as a cinematographer and documentary director.</p>\n<p><strong>What opportunities do you see with MetaMask Snaps and the possibilities it unlocks for the Web3 space?</strong></p>\n<p>We believe that MetaMask Snaps will make complex Web3 technologies easier for both developers and users and will significantly help traditional Web applications integrate with Web3. We are as excited about creating MetaMask Snaps as we were when the first mobile app store came out. We encourage you to give it a try and realize your ideas!</p>\n<p><strong>Any advice you would like to share with developers keen to try MetaMask Snaps?</strong></p>\n<p>We recommend starting with the MetaMask Snaps template <a href=\"https://github.com/MetaMask/template-snap-monorepo\">(https://github.com/MetaMask/template-snap-monorepo)</a> and modifying it first.</p>\n<p>Tip: You may be wondering how to get the injected <strong>ethereum</strong> object. The <strong>wallet</strong> object is equivalent to it.</p>\n<h3>Building with MetaMask Snaps</h3>\n<p>To get started with MetaMask Snaps:</p>\n<ol>\n<li>Checkout the <a href=\"https://docs.metamask.io/guide/snaps.html?utm_source=metamask&#x26;utm_medium=post&#x26;utm_campaign=2022_Sep_hackathon-winners-feature-blog-post_content_technical\">developer docs</a></li>\n<li>Install <a href=\"https://docs.metamask.io/snaps/get-started/install-flask/\">MetaMask Flask</a></li>\n<li>Check out a <a href=\"https://github.com/MetaMask/snaps-skunkworks/discussions/675\">MetaMask Snaps guide</a></li>\n<li>Stay connected with us on <a href=\"https://twitter.com/metamaskdev\">Twitter</a>, <a href=\"https://github.com/MetaMask/snaps-skunkworks/discussions\">GitHub discussions</a>, and <a href=\"https://discord.com/invite/consensys\">Discord</a></li>\n</ol>\n<p>Keep an eye out for our team at the next hackathon in an area near you! Happy BUIDLing ⚒️</p>\n<p><em>Disclaimer: MetaMask Snaps are generally developed by third parties other the ConsenSys Software.  Use of third-party-developed MetaMask Snaps is done at your own discretion and risk and with agreement that you will solely be responsible for any loss or damage that results from such activities.  ConsenSys makes no express or implied warranty, whether oral or written, regarding any third-party-developed MetaMask Snaps and disclaims all liability for third-party developed Snaps.  Use of blockchain-related software carries risks, and you assume them in full when using MetaMask Snaps.</em></p>"}},"categories":[{"contentful_id":"Jc9ZQ937JgPbuV2Xap2l7","node_locale":"ru","internal":{"type":"ContentfulNewsCategory"},"name":"Разработчики","slug":"developers"}],"metaTitle":null,"metaDescription":"AA Snap: Democratizing Account Abstraction | An ETHIndia Hackathon Winner","canonicalUrl":null,"isPrivate":false}]}},"pageContext":{"headerId":"6I0knvqLf0DS5PB72DqUlM","footerId":"75bFgEllkMxpVsY8wWlroX","seoId":"7k3sOZj8ICP53K0J7jXp7B","modules":["4ZjPczvQn6fYgigGRFSQPf","P9sMsqPrQxPv6xyeMWZvn"],"themeColor":null,"pathBuild":"/ru/news/developers/page/13/","isFaqLayout":false,"h2FontSize":"40px","localizedPages":["/download/","/news/","/swaps/","/","/news/latest/powerful-configurable-secure-metamask-is-how-you-show-up-in-web3/","/news/latest/metamask-portfolio-track-and-manage-your-web3-everything/","/news/latest/how-to-use-metamasks-buy-feature-to-fund-your-wallet/","/news/latest/how-to-use-metamasks-swap-feature-to-get-what-you-want/","/news/latest/how-to-stake-crypto-and-secure-the-network/","/news/latest/bridge-easily-move-tokens-across-chains/","/news/latest/dashboard-track-everything-in-one-place/","/news/latest/how-to-sell-crypto-for-cash/","/news/security/","/news/developers/","/news/institutions/"],"limit":4,"skip":48,"categoryId":"Jc9ZQ937JgPbuV2Xap2l7","category":"developers","totalItems":67,"currentPage":13,"totalPages":17,"sharedCopy":{"browserNotSupported":"не поддерживается. Загрузите браузер, поддерживающий MetaMask.","by":"от","copyLink":"Копировать ссылку","copied":"Скопирована"},"slug":"/news/developers/page/13/","translation":true,"locale":"ru","node_locale":"ru","newsCategories":[{"name":"security","categoryId":"73InEMthwQcFmYQ8Ta61gS","total":35},{"name":"developers","categoryId":"Jc9ZQ937JgPbuV2Xap2l7","total":67},{"name":"institutions","categoryId":"75mzA7RLLPzWfBjl54wLRJ","total":46},{"name":"","categoryId":"3tE0tpmPMGsXezpOhKyWGO","total":80}],"ukApproved":true,"ukApprovalText":"Approved by Archax LTD on 06/11/24"}},"staticQueryHashes":["2087975078","2272059946","3000541721","3155062165"],"slicesMap":{}}