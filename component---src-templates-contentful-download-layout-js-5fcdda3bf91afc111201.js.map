{"version":3,"file":"component---src-templates-contentful-download-layout-js-5fcdda3bf91afc111201.js","mappings":"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","sources":["webpack://metamask-io/./src/components/UKApprovalNotice.js","webpack://metamask-io/./src/components/DownloadBrowser.js","webpack://metamask-io/./src/components/DownloadContainer.js","webpack://metamask-io/./src/templates/ContentfulDownloadLayout.js"],"sourcesContent":["import React from 'react'\n\nimport styled, { withTheme } from 'styled-components'\nimport { useCountry } from '../hooks/useCountry'\n\nconst UKApprovalNotice = props => {\n  const { ukApproved = false, ukApprovalText } = props\n  const country = useCountry()\n\n  return (\n    ukApproved &&\n    country === 'GB' && (\n      <NoticeWrapper>\n        <NoticeContainer>{ukApprovalText}</NoticeContainer>\n      </NoticeWrapper>\n    )\n  )\n}\n\nexport default withTheme(UKApprovalNotice)\n\nconst NoticeContainer = styled.div`\n  display: flex;\n  margin: 0 auto;\n  max-width: 1200px;\n  width: 100%;\n  align-items: center;\n  justify-content: space-between;\n  font-size: 16px;\n  line-height: 22px;\n\n  @media (max-width: ${({ theme }) => theme.device.miniDesktopMediaMax}) {\n    max-width: var(--container-width-miniDesktop);\n  }\n`\nconst NoticeWrapper = styled.div`\n  padding: 20px;\n`\n","import React from 'react'\nimport styled, { withTheme } from 'styled-components'\nimport { Section } from './StyledGeneral'\nimport ContentWrapper from './ContentWrapper'\nimport Image from './Image'\nimport Link from './Link'\n\nconst DownloadBrowser = props => {\n  const {\n    headline,\n    cta: { downloadBrowsers },\n  } = props.data || {}\n  const { previewMode } = props\n\n  if (!downloadBrowsers || !downloadBrowsers.length) return null\n\n  const browsers = previewMode\n    ? downloadBrowsers\n    : downloadBrowsers.map(browser => {\n        return JSON.parse(browser.internal.content)\n      }, [])\n\n  return (\n    <Container className={'bg-gray'} sectionPadding={'88px'}>\n      <ContentWrapper>\n        <Heading>{headline}</Heading>\n        {browsers && browsers.length ? (\n          <BrowserWrapper>\n            <BrowserList>\n              {browsers.map(browser => {\n                const { link, icon, text } = browser\n                return (\n                  <BrowserItem key={text} to={link} newTab>\n                    <Image src={icon} />\n                    <BrowserName>{text}</BrowserName>\n                  </BrowserItem>\n                )\n              })}\n            </BrowserList>\n          </BrowserWrapper>\n        ) : null}\n      </ContentWrapper>\n    </Container>\n  )\n}\n\nexport default withTheme(DownloadBrowser)\n\nconst Container = styled(Section)`\n  @media (max-width: ${({ theme }) => theme.device.mobileMediaMax}) {\n    padding-top: 88px !important;\n    padding-bottom: 88px !important;\n  }\n`\nconst BrowserWrapper = styled.div`\n  display: block;\n`\n\nconst BrowserList = styled.div`\n  display: flex;\n  flex-flow: wrap;\n  margin: -20px;\n\n  @media (max-width: ${({ theme }) => theme.device.mobileMediaMax}) {\n    margin: -12px;\n  }\n\n  & > * {\n    width: 20%;\n    padding: 20px;\n\n    @media (max-width: ${({ theme }) => theme.device.tabletMediaMax}) {\n      width: 33.33%;\n    }\n\n    @media (max-width: ${({ theme }) => theme.device.mobileMediaMax}) {\n      width: 100%;\n      padding: 12px;\n    }\n  }\n`\n\nconst BrowserItem = styled(Link)`\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  flex-direction: column;\n  text-align: center;\n  color: ${({ theme }) => theme.text.body};\n\n  img {\n    width: 50px;\n    height: 50px;\n  }\n`\n\nconst BrowserName = styled.div`\n  display: block;\n  margin-top: 16px;\n`\nconst Heading = styled.h2`\n  margin-bottom: 32px;\n  font-size: 35px;\n  line-height: 40px;\n  font-weight: 700;\n  text-align: center;\n  @media (max-width: ${({ theme }) => theme.device.mobileMediaMax}) {\n    padding-right: 10px;\n    padding-left: 10px;\n  }\n`\n","import { browserName, isAndroid, isIOS, isMobile } from 'react-device-detect'\nimport React, { Suspense, lazy, useEffect, useState } from 'react'\nimport styled, { withTheme } from 'styled-components'\nimport { Section } from './StyledGeneral'\nimport ContentWrapper from './ContentWrapper'\nimport Loading from './Loading'\nimport get from 'lodash/get'\nimport useIsChromium from '../lib/utils/isChromium'\nconst TabWrapper = lazy(() => import('./Tab/TabWrapper'))\nconst TabContentDownload = lazy(() => import('./DownloadTab'))\n\nconst DownloadContainer = ({ data, previewMode }) => {\n  const [device, setDevice] = useState('')\n  const isChromium = useIsChromium()\n\n  useEffect(() => {\n    if (isMobile) {\n      if (isAndroid) {\n        setDevice('android')\n      } else if (isIOS) {\n        setDevice('ios')\n      } else {\n        setDevice('browser')\n      }\n    } else {\n      setDevice('browser')\n    }\n  }, [])\n\n  const isSSR = typeof window === 'undefined'\n  const appExtensions = previewMode\n    ? get(data, 'modulesCollection.items[0].modulesCollection.items')\n    : get(data, 'modules[0].modules')\n\n  if (!appExtensions) return null\n\n  const defaultTitle = isMobile\n    ? 'Chrome'\n    : isChromium\n    ? 'Chromium'\n    : browserName\n  const tabs = appExtensions.map(item => ({\n    label: item.title || defaultTitle,\n    id: item.title?.toLowerCase() || 'browser',\n    content: !isSSR && (\n      <Suspense fallback={<Loading />}>\n        <TabContentDownload\n          item={item}\n          id={item.title || 'browser'}\n          previewMode={previewMode}\n        />\n      </Suspense>\n    ),\n  }))\n\n  return (\n    <Container>\n      <ContentWrapper>\n        {!isSSR && device ? (\n          <Suspense fallback={<div />}>\n            <TabWrapper tabs={tabs} activeTabDefault={device} />\n          </Suspense>\n        ) : null}\n      </ContentWrapper>\n    </Container>\n  )\n}\n\nexport default withTheme(DownloadContainer)\n\nconst Container = styled(Section)``\n","import React from 'react'\nimport styled from 'styled-components'\nimport { graphql } from 'gatsby'\nimport { ContentfulLayoutHeader as Header } from '../components/Contentful'\nimport Layout from './PageLayout'\nimport DownloadBrowser from '../components/DownloadBrowser'\nimport DownloadContainer from '../components/DownloadContainer'\nimport { contentfulModuleToComponent } from '../lib/utils/moduleToComponent'\nimport { DEFAULT_LOCALE_CODE } from '../lib/config.mjs'\nimport withProcessPreviewData from '../lib/utils/withProcessPreviewData'\nimport UKApprovalNotice from '../components/UKApprovalNotice'\n\nconst DownloadPage = props => {\n  const {\n    data: { seo, header, footer, layoutModuleContainers },\n    pageContext: {\n      pathBuild,\n      locale = DEFAULT_LOCALE_CODE,\n      translation,\n      localizedPages,\n      sharedCopy,\n      ukApproved,\n      ukApprovalText,\n    } = {},\n    previewMode,\n  } = props\n  const modules = layoutModuleContainers.nodes\n\n  if (!modules || !modules.length) return null\n\n  const supportBrowserModule = modules.find(\n    f => f.moduleId === 'supported-browser'\n  )\n  const installMetaMaskModule = modules.find(\n    f => f.moduleId === 'install-metamask'\n  )\n\n  return (\n    <Layout\n      locale={locale}\n      localizedPages={localizedPages}\n      sharedCopy={sharedCopy}\n      translation={translation}\n      previewMode\n    >\n      {seo &&\n        contentfulModuleToComponent({\n          ...seo,\n          pagePath: pathBuild,\n          translation,\n        })}\n      <Header\n        moduleConfig={{ ...header, translation, previewMode }}\n        hideDownloadBtn\n      />\n      <Container>\n        <DownloadTitle>Install MetaMask</DownloadTitle>\n        {installMetaMaskModule ? (\n          <DownloadContainer\n            data={installMetaMaskModule}\n            previewMode={previewMode}\n          />\n        ) : null}\n        {supportBrowserModule ? (\n          <DownloadBrowser\n            data={supportBrowserModule}\n            previewMode={previewMode}\n          />\n        ) : null}\n      </Container>\n      <UKApprovalNotice ukApproved={ukApproved} ukApprovalText={ukApprovalText} />\n      {contentfulModuleToComponent({ ...footer, previewMode })}\n    </Layout>\n  )\n}\n\nconst parsePreviewData = data => {\n  const {\n    header,\n    footer,\n    modulesCollection: { items },\n  } = data.data\n\n  const dataUpdate = {\n    previewMode: true,\n    pageContext: {\n      locale: data.locale,\n      sharedCopy: data.sharedCopy,\n    },\n    data: {\n      header,\n      footer,\n      layoutModuleContainers: {\n        nodes: items,\n      },\n    },\n  }\n  return dataUpdate\n}\n\nexport default withProcessPreviewData(parsePreviewData)(DownloadPage)\n\nexport const DownloadPageQuery = graphql`\n  query(\n    $modules: [String]!\n    $headerId: String\n    $footerId: String\n    $seoId: String\n    $node_locale: String\n  ) {\n    header: contentfulLayoutHeader(\n      contentful_id: { eq: $headerId }\n      node_locale: { eq: $node_locale }\n    ) {\n      ...ContentfulLayoutHeaderFields\n    }\n    footer: contentfulLayoutFooter(\n      contentful_id: { eq: $footerId }\n      node_locale: { eq: $node_locale }\n    ) {\n      ...ContentfulLayoutFooterFields\n    }\n    seo: contentfulSeo(\n      contentful_id: { eq: $seoId }\n      node_locale: { eq: $node_locale }\n    ) {\n      ...ContentfulSeoFields\n    }\n    layoutModuleContainers: allContentfulLayoutModuleContainer(\n      filter: {\n        contentful_id: { in: $modules }\n        node_locale: { eq: $node_locale }\n      }\n    ) {\n      nodes {\n        ...ContentfulLayoutModuleContainerFields\n      }\n    }\n  }\n`\n\nconst Container = styled.div`\n  display: block;\n`\n\nconst DownloadTitle = styled.h1`\n  display: none;\n`\n"],"names":["withTheme","props","ukApproved","ukApprovalText","country","useCountry","React","NoticeWrapper","NoticeContainer","styled","div","withConfig","displayName","componentId","_ref","theme","device","miniDesktopMediaMax","headline","cta","downloadBrowsers","data","previewMode","length","browsers","map","browser","JSON","parse","internal","content","Container","className","sectionPadding","ContentWrapper","Heading","BrowserWrapper","BrowserList","link","icon","text","BrowserItem","key","to","newTab","Image","src","BrowserName","Section","mobileMediaMax","_ref2","_ref3","tabletMediaMax","_ref4","Link","_ref5","body","h2","_ref6","TabWrapper","lazy","TabContentDownload","setDevice","useState","isChromium","useIsChromium","useEffect","isMobile","isAndroid","isIOS","isSSR","window","appExtensions","get","defaultTitle","browserName","tabs","item","_item$title","label","title","id","toLowerCase","Suspense","fallback","Loading","activeTabDefault","withProcessPreviewData","header","footer","modulesCollection","items","pageContext","locale","sharedCopy","layoutModuleContainers","nodes","seo","pathBuild","DEFAULT_LOCALE_CODE","translation","localizedPages","modules","supportBrowserModule","find","f","moduleId","installMetaMaskModule","Layout","contentfulModuleToComponent","pagePath","Header","moduleConfig","hideDownloadBtn","DownloadTitle","DownloadContainer","DownloadBrowser","UKApprovalNotice","h1"],"sourceRoot":""}