{"version":3,"file":"766-fbd031d0a3d631ea26d0.js","mappings":"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","sources":["webpack://metamask-io/./src/components/DownloadTab.js"],"sourcesContent":["import { contentfulModuleToComponent } from '../lib/utils/moduleToComponent'\nimport { browserName, isMobile } from 'react-device-detect'\nimport styled, { withTheme } from 'styled-components'\nimport useIsChromium from '../lib/utils/isChromium'\nimport React, { useContext, useEffect, useState } from 'react'\nimport ParseMD from './ParseMD'\nimport get from 'lodash/get'\nimport Image from './Image'\nimport ContextPage from '../Context/ContextPage'\n\nconst TabContentDownload = props => {\n  const { sharedCopy } = useContext(ContextPage)\n  const { item, id, previewMode } = props\n  const { image, description } = item\n  const title = previewMode\n    ? description\n    : description?.childMarkdownRemark?.html\n\n  const isChromium = useIsChromium()\n\n  let ctas = previewMode\n    ? get(item, 'ctaCollection.items[0].downloadBrowsers')\n    : get(item, 'cta[0].downloadBrowsers')\n\n  let ctaFirefox,\n    ctaChrome,\n    ctaOpera,\n    ctaEdge,\n    ctaChromeBrowser,\n    ctaFirefoxBrowser\n\n  if (ctas) {\n    ctas = previewMode\n      ? ctas\n      : ctas.map(cta => JSON.parse(cta.internal.content))\n    ctaFirefox = ctas.find(c => c.name === 'ctaFirefox')\n    ctaChrome = ctas.find(c => c.name === 'ctaChrome')\n    ctaOpera = ctas.find(c => c.name === 'ctaOpera')\n    ctaEdge = ctas.find(c => c.name === 'ctaEdge')\n    ctaChromeBrowser = ctas.find(c => c.name === 'ctaChromeBrowser')\n    ctaFirefoxBrowser = ctas.find(c => c.name === 'ctaFirefoxBrowser')\n  }\n\n  const mobileCta = previewMode ? get(item, 'ctaCollection.items') : item.cta\n  const [downloadForFirefox, setDownloadForFirefox] = useState(ctaFirefox)\n\n  useEffect(() => {\n    ;(async () => {\n      if (id === 'browser' && browserName === 'Firefox') {\n        try {\n          const firefoxAddon = await fetch(\n            'https://addons.mozilla.org/api/v5/addons/addon/ether-metamask/'\n          )\n          const data = await firefoxAddon.json()\n          const latestVersion = get(data, 'current_version.file.url')\n\n          if (latestVersion) {\n            setDownloadForFirefox({\n              ...downloadForFirefox,\n              ctaLink: latestVersion,\n              newTab: false,\n            })\n          }\n        } catch (e) {}\n      }\n    })()\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [])\n\n  let ctasDownload, ctasHeading\n  if (id === 'browser') {\n    const isChrome = browserName === 'Chrome' || browserName === 'Brave'\n    const isFirefox = browserName === 'Firefox'\n    const isOpera = browserName === 'Opera'\n    const isEdge = browserName === 'Edge'\n\n    if (isChromium) {\n      ctasDownload = [\n        {\n          ...ctaChrome,\n          text: ctaChrome.text.replace(/Chrome/g, 'Chromium'),\n        },\n      ]\n    } else if (isChrome || isMobile) {\n      ctasDownload = [ctaChrome]\n    } else if (isFirefox) {\n      ctasDownload = [downloadForFirefox]\n    } else if (isOpera) {\n      ctasDownload = [ctaOpera]\n    } else if (isEdge) {\n      ctasDownload = [ctaEdge]\n    } else {\n      ctasHeading = `${browserName} ${sharedCopy.browserNotSupported}`\n      ctasDownload = [ctaChromeBrowser, ctaFirefoxBrowser]\n    }\n\n    ctasDownload = ctasDownload.map(c => ({\n      displayText: c.text,\n      internal: {\n        type: 'ContentfulCta',\n      },\n      ctaLink: c.link,\n      buttonDisplay: true,\n      fontSize: '20px',\n      newTab: true,\n      __typename: 'Cta',\n    }))\n  } else {\n    ctasDownload = mobileCta\n  }\n\n  return (\n    <>\n      {title ? (\n        <Heading>\n          <ParseMD>{title}</ParseMD>\n        </Heading>\n      ) : null}\n\n      {image ? (\n        <ImageWrapper>\n          <Image image={image} previewMode={previewMode} />\n        </ImageWrapper>\n      ) : null}\n\n      <DownLoadWrapper>\n        {ctasHeading ? <HeadingCta>{ctasHeading}</HeadingCta> : null}\n        <Buttons>\n          {ctasDownload && ctasDownload.length\n            ? ctasDownload.map(cta =>\n                contentfulModuleToComponent({ ...cta, previewMode })\n              )\n            : null}\n        </Buttons>\n      </DownLoadWrapper>\n    </>\n  )\n}\n\nexport default withTheme(TabContentDownload)\n\nconst Heading = styled.h2`\n  font-size: 35px;\n  line-height: 40px;\n  font-weight: 700;\n  text-align: center;\n  padding: 20px 0;\n`\n\nconst ImageWrapper = styled.div`\n  width: 664px;\n  max-width: 100%;\n  margin: 20px auto 0;\n`\n\nconst DownLoadWrapper = styled.div`\n  display: flex;\n  padding: 40px;\n  align-items: center;\n  justify-content: center;\n  flex-direction: column;\n  border-radius: 10px;\n  background-color: ${({ theme }) => theme.background.downloadCta};\n  box-shadow: 1px 1px 8px 1px\n    ${({ theme }) => theme.background.downloadCtaShadow};\n  position: relative;\n  text-align: center;\n\n  @media (max-width: ${({ theme }) => theme.device.mobileMediaMax}) {\n    margin: 0 -20px;\n  }\n`\n\nconst HeadingCta = styled.div`\n  font-family: 'Arial', 'Helvetica Neue', 'Helvetica', sans-serif;\n  font-size: 24px;\n  margin-bottom: 40px;\n  line-height: 1.3;\n  max-width: 880px;\n`\n\nconst Buttons = styled.div`\n  display: flex;\n\n  @media (max-width: ${({ theme }) => theme.device.tabletMediaMax}) {\n    display: block;\n    text-align: center;\n  }\n\n  & > * {\n    margin: 0 20px;\n    height: auto !important;\n    padding: 12px 20px !important;\n\n    &:last-child:first-child {\n      margin: 0 !important;\n    }\n\n    @media (min-width: ${({ theme }) => theme.device.miniDesktop}) {\n      margin: 0 60px;\n    }\n\n    @media (max-width: ${({ theme }) => theme.device.tabletMediaMax}) {\n      margin: 10px;\n    }\n\n    @media (max-width: ${({ theme }) => theme.device.mobileMediaMax}) {\n      width: 100%;\n    }\n  }\n`\n"],"names":["withTheme","props","_description$childMar","sharedCopy","useContext","ContextPage","item","id","previewMode","image","description","title","childMarkdownRemark","html","isChromium","useIsChromium","ctaFirefox","ctaChrome","ctaOpera","ctaEdge","ctaChromeBrowser","ctaFirefoxBrowser","ctas","get","map","cta","JSON","parse","internal","content","find","c","name","mobileCta","downloadForFirefox","setDownloadForFirefox","useState","ctasDownload","ctasHeading","useEffect","browserName","firefoxAddon","fetch","data","json","latestVersion","ctaLink","newTab","e","isChrome","isFirefox","isOpera","isEdge","text","replace","isMobile","browserNotSupported","displayText","type","link","buttonDisplay","fontSize","__typename","React","Heading","ParseMD","ImageWrapper","Image","DownLoadWrapper","HeadingCta","Buttons","length","contentfulModuleToComponent","styled","h2","withConfig","displayName","componentId","div","_ref","theme","background","downloadCta","_ref2","downloadCtaShadow","_ref3","device","mobileMediaMax","_ref4","tabletMediaMax","_ref5","miniDesktop","_ref6","_ref7"],"sourceRoot":""}